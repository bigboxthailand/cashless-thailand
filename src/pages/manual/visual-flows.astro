---
// src/pages/manual/visual-flows.astro
import Layout from "../../layouts/Layout.astro";
import Navbar from "../../components/Navbar.astro";
import RegistrationFlow from "../../components/manual/RegistrationFlow.jsx";
import SellerFlow from "../../components/manual/SellerFlow.jsx";
import ShoppingFlow from "../../components/manual/ShoppingFlow.jsx";

const sidebarItems = [
    {
        title: "Introduction",
        items: [
            { title: "Overview", link: "/manual" },
            { title: "System Workflow", link: "/manual/system-workflow" },
            {
                title: "Visual Logic Flows",
                link: "/manual/visual-flows",
                active: true,
            },
        ],
    },
    {
        title: "Core Features",
        items: [
            { title: "Home Page (Index)", link: "/manual/page-index" },
            { title: "Shop Catalog", link: "/manual/page-shop" },
            { title: "Product Detail", link: "/manual/page-product" },
            { title: "User Profile", link: "/manual/page-profile" },
        ],
    },
    {
        title: "Logic & State",
        items: [
            { title: "Shopping Cart", link: "/manual/module-cart" },
            { title: "Checkout System", link: "/manual/module-checkout" },
            { title: "Auth & Tiers", link: "/manual/module-auth" },
            { title: "BTC/SATS Engine", link: "/manual/module-btc" },
        ],
    },
];
---

<Layout title="Visual Logic Flows | Cashless Thailand Manual">
    <Navbar />

    <div class="min-h-screen bg-[#0a0a0a] pt-32 flex">
        <!-- Sidebar Navigation -->
        <aside
            class="w-72 border-r border-white/5 bg-[#050505] hidden lg:block overflow-y-auto px-6 py-10 fixed top-32 bottom-0 h-[calc(100vh-8rem)] z-20"
        >
            <nav class="space-y-8">
                {
                    sidebarItems.map((section) => (
                        <div>
                            {section.items ? (
                                <div class="space-y-4">
                                    <h4 class="text-[10px] uppercase tracking-[0.2em] text-white/30 font-black px-2">
                                        {section.title}
                                    </h4>
                                    <ul class="space-y-1">
                                        {section.items.map((item) => (
                                            <li>
                                                <a
                                                    href={item.link}
                                                    class={`block px-4 py-2 rounded-lg text-sm transition-all ${item.active ? "bg-[#D4AF37]/10 text-[#D4AF37] font-bold" : "text-white/50 hover:text-white hover:bg-white/5"}`}
                                                >
                                                    {item.title}
                                                </a>
                                            </li>
                                        ))}
                                    </ul>
                                </div>
                            ) : (
                                <a
                                    href={(section as any).link}
                                    class="block px-6 py-2 text-sm text-white/50 hover:text-white hover:bg-white/5 rounded-lg transition-all font-bold"
                                >
                                    {section.title}
                                </a>
                            )}
                        </div>
                    ))
                }
            </nav>
        </aside>

        <!-- Main Content -->
        <main
            class="flex-1 lg:ml-72 px-6 md:px-12 py-12 md:py-20 lg:py-24 max-w-6xl mx-auto"
        >
            <div class="space-y-32">
                <!-- Header -->
                <header class="space-y-8 text-center max-w-3xl mx-auto">
                    <div
                        class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-[#D4AF37]/10 border border-[#D4AF37]/20 text-[#D4AF37] text-xs font-black uppercase tracking-widest"
                    >
                        Interactive Visual Manual
                    </div>
                    <h1
                        class="text-5xl md:text-7xl font-black text-white tracking-tighter leading-tight italic"
                    >
                        The Visual <br />
                        <span class="text-[#D4AF37]">Ecosystem Flow.</span>
                    </h1>
                    <p class="text-white/40 text-lg leading-relaxed font-light">
                        เจาะลึกขั้นตอนการทำงานผ่านอินโฟกราฟิกแบบเคลื่อนไหว
                        เพื่อให้เห็นภาพรวมของระบบตั้งแต่การเริ่มต้นใช้งานจนถึงการประสบความสำเร็จบนแพลตฟอร์ม
                    </p>
                </header>

                <!-- 1. User Registration Flow -->
                <section class="space-y-16">
                    <div class="space-y-4 text-center">
                        <h2
                            class="text-3xl font-black text-white uppercase tracking-tighter"
                        >
                            01. User Registration Flow
                        </h2>
                        <p class="text-white/40 text-sm">
                            การผสมผสาน Web2.0 และ Web3.0 ในการระบุตัวตน
                        </p>
                    </div>
                    <div
                        class="p-8 md:p-16 bg-[#111] border border-white/5 rounded-[4rem] relative overflow-hidden"
                    >
                        <RegistrationFlow client:load />
                    </div>
                </section>

                <!-- 2. Seller Onboarding Flow -->
                <section class="space-y-16">
                    <div class="space-y-4 text-center">
                        <h2
                            class="text-3xl font-black text-white uppercase tracking-tighter"
                        >
                            02. Seller Onboarding Flow
                        </h2>
                        <p class="text-white/40 text-sm">
                            จากผู้ใช้ทั่วไปสู่พาร์ทเนอร์ร้านค้าอย่างเป็นทางการ
                        </p>
                    </div>
                    <div
                        class="p-8 md:p-16 bg-[#111] border border-white/5 rounded-[4rem] relative overflow-hidden"
                    >
                        <SellerFlow client:load />
                    </div>
                </section>

                <!-- 3. Complete Shopping Journey -->
                <section class="space-y-16 pb-24">
                    <div class="space-y-4 text-center">
                        <h2
                            class="text-3xl font-black text-white uppercase tracking-tighter"
                        >
                            03. The End-to-End Journey
                        </h2>
                        <p class="text-white/40 text-sm">
                            วงจรชีวิตของออเดอร์และการสะสมแต้มพรีเมียม
                        </p>
                    </div>
                    <div
                        class="p-8 md:p-16 bg-[#111] border border-white/5 rounded-[4rem] relative overflow-hidden"
                    >
                        <ShoppingFlow client:load />
                    </div>
                </section>
            </div>
        </main>
    </div>
</Layout>

<style is:global>
    aside::-webkit-scrollbar {
        width: 2px;
    }
    aside::-webkit-scrollbar-track {
        background: transparent;
    }
    aside::-webkit-scrollbar-thumb {
        background: #333;
        border-radius: 10px;
    }

    @keyframes pulse-gold {
        0%,
        100% {
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.1);
        }
        50% {
            box-shadow: 0 0 40px rgba(212, 175, 55, 0.3);
        }
    }
</style>
