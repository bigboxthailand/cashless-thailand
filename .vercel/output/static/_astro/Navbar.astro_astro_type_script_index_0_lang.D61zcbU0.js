import{c as B}from"./cartStore.IpiDG6ld.js";document.addEventListener("astro:page-load",()=>{const o=document.getElementById("quantum-canvas"),a=document.getElementById("main-nav");if(o&&a){const t=o.getContext("2d");let i=[],n={x:-999,y:-999,radius:200};const L=()=>{o.width=window.innerWidth,o.height=a.offsetHeight,I()},I=()=>{i=[];const s=Math.floor(o.width/15);for(let e=0;e<s;e++)i.push({x:Math.random()*o.width,y:Math.random()*o.height,vx:(Math.random()-.5)*2,vy:(Math.random()-.5)*2,size:Math.random()*2+1.5})},E=()=>{t.clearRect(0,0,o.width,o.height);for(let s=0;s<i.length;s++){const e=i[s];e.x+=e.vx,e.y+=e.vy,(e.x<0||e.x>o.width)&&(e.vx*=-1),(e.y<0||e.y>o.height)&&(e.vy*=-1);const f=n.x-e.x,x=n.y-e.y,g=Math.sqrt(f*f+x*x);if(g<n.radius){const d=f/g,c=x/g,r=n.radius,m=(r-g)/r,y=d*m*8,q=c*m*8;e.x+=y,e.y+=q}t.beginPath(),t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fillStyle="rgba(212, 175, 55, 0.8)",t.fill();for(let d=s;d<i.length;d++){const c=i[d],r=e.x-c.x,m=e.y-c.y,y=Math.sqrt(r*r+m*m);y<120&&(t.beginPath(),t.strokeStyle=`rgba(212, 175, 55, ${.8-y/120})`,t.lineWidth=1.5,t.moveTo(e.x,e.y),t.lineTo(c.x,c.y),t.stroke())}}requestAnimationFrame(E)};a.addEventListener("mousemove",s=>{const e=a.getBoundingClientRect();n.x=s.clientX-e.left,n.y=s.clientY-e.top}),a.addEventListener("mouseleave",()=>{n.x=-999,n.y=-999}),window.addEventListener("resize",L),L(),E()}const b=()=>{const{count:t}=B.totals();document.querySelectorAll(".cart-count").forEach(n=>{n.textContent=t.toString(),t>0?n.classList.remove("scale-0"):n.classList.add("scale-0")})};b(),window.addEventListener("cart-updated",b);const l=document.getElementById("cart-trigger");if(l){const t=l.cloneNode(!0);l.parentNode&&l.parentNode.replaceChild(t,l),t.addEventListener("click",i=>{i.preventDefault(),B.open()})}const M=document.getElementById("mobile-menu-trigger"),u=document.getElementById("mobile-menu"),p=document.getElementById("mobile-menu-panel"),h=document.getElementById("mobile-menu-backdrop"),w=document.getElementById("close-mobile-menu"),k=document.querySelectorAll(".mobile-nav-link"),v=t=>{t?(u?.classList.remove("invisible","pointer-events-none"),setTimeout(()=>{h?.classList.remove("opacity-0"),p?.classList.remove("translate-x-full"),u?.classList.add("menu-visible")},10)):(p?.classList.add("translate-x-full"),h?.classList.add("opacity-0"),u?.classList.remove("menu-visible"),setTimeout(()=>{u?.classList.add("invisible","pointer-events-none")},500))};M?.addEventListener("click",()=>v(!0)),w?.addEventListener("click",()=>v(!1)),h?.addEventListener("click",()=>v(!1)),k.forEach(t=>{t.addEventListener("click",()=>v(!1))})});
