import{j as g}from"./jsx-runtime.D_zvdyIk.js";import{r as h}from"./index.WFquGv8Z.js";import{r as te,c as ne,f as p,d as x,e as Y,g as _,J as se,p as re,v as oe,i as ie,h as ce,j as le,n as J,k as ae,s as ue,u as E,b as U,l as N,o as v,M as T,q as C,m as fe}from"./proxy.Bc5WEKy4.js";const L=new WeakMap;let W;const K=(e,t,s)=>(n,r)=>r&&r[0]?r[0][e+"Size"]:ne(n)&&"getBBox"in n?n.getBBox()[t]:n[s],de=K("inline","width","offsetWidth"),ge=K("block","height","offsetHeight");function he({target:e,borderBoxSize:t}){L.get(e)?.forEach(s=>{s(e,{get width(){return de(e,t)},get height(){return ge(e,t)}})})}function pe(e){e.forEach(he)}function me(){typeof ResizeObserver>"u"||(W=new ResizeObserver(pe))}function ye(e,t){W||me();const s=te(e);return s.forEach(n=>{let r=L.get(n);r||(r=new Set,L.set(n,r)),r.add(t),W?.observe(n)}),()=>{s.forEach(n=>{const r=L.get(n);r?.delete(t),r?.size||W?.unobserve(n)})}}const V=new Set;let y;function we(){y=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};V.forEach(t=>t(e))},window.addEventListener("resize",y)}function ve(e){return V.add(e),y||we(),()=>{V.delete(e),!V.size&&typeof y=="function"&&(window.removeEventListener("resize",y),y=void 0)}}function xe(e,t){return typeof e=="function"?ve(e):ye(e,t)}function q(e,t){let s;const n=()=>{const{currentTime:r}=t,i=(r===null?0:r.value)/100;s!==i&&e(i),s=i};return p.preUpdate(n,!0),()=>x(n)}function Ee(...e){const t=!Array.isArray(e[0]),s=t?0:-1,n=e[0+s],r=e[1+s],o=e[2+s],i=e[3+s],c=Y(r,o,i);return t?c(n):c}function be(e,t,s={}){const n=e.get();let r=null,o=n,i;const c=typeof n=="string"?n.replace(/[\d.-]/g,""):void 0,u=()=>{r&&(r.stop(),r=null)},l=()=>{u();const a=k(e.get()),f=k(o);a!==f&&(r=new se({keyframes:[a,f],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...s,onUpdate:i}))};if(e.attach((a,f)=>{o=a,i=d=>f(O(d,c)),p.postRender(()=>{l(),e.events.animationStart?.notify(),r?.then(()=>{e.events.animationComplete?.notify()})})},u),_(t)){const a=t.on("change",d=>e.set(O(d,c))),f=e.on("destroy",a);return()=>{a(),f()}}return u}function O(e,t){return t?e+t:e}function k(e){return typeof e=="number"?e:parseFloat(e)}function Se(e,t,s){h.useInsertionEffect(()=>e.on(t,s),[e,t,s])}const Le=50,M=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),We=()=>({time:0,x:M(),y:M()}),Ve={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function P(e,t,s,n){const r=s[t],{length:o,position:i}=Ve[t],c=r.current,u=s.time;r.current=e[`scroll${i}`],r.scrollLength=e[`scroll${o}`]-e[`client${o}`],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=re(0,r.scrollLength,r.current);const l=n-u;r.velocity=l>Le?0:oe(r.current-c,l)}function He(e,t,s){P(e,"x",t,s),P(e,"y",t,s),t.time=s}function ze(e,t){const s={x:0,y:0};let n=e;for(;n&&n!==t;)if(ie(n))s.x+=n.offsetLeft,s.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const r=n.getBoundingClientRect();n=n.parentElement;const o=n.getBoundingClientRect();s.x+=r.left-o.left,s.y+=r.top-o.top}else if(n instanceof SVGGraphicsElement){const{x:r,y:o}=n.getBBox();s.x+=r,s.y+=o;let i=null,c=n.parentNode;for(;!i;)c.tagName==="svg"&&(i=c),c=n.parentNode;n=i}else break;return s}const A={start:0,center:.5,end:1};function B(e,t,s=0){let n=0;if(e in A&&(e=A[e]),typeof e=="string"){const r=parseFloat(e);e.endsWith("px")?n=r:e.endsWith("%")?e=r/100:e.endsWith("vw")?n=r/100*document.documentElement.clientWidth:e.endsWith("vh")?n=r/100*document.documentElement.clientHeight:e=r}return typeof e=="number"&&(n=t*e),s+n}const Ce=[0,0];function je(e,t,s,n){let r=Array.isArray(e)?e:Ce,o=0,i=0;return typeof e=="number"?r=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?r=e.split(" "):r=[e,A[e]?e:"0"]),o=B(r[0],s,n),i=B(r[1],t),o-i}const Ae={All:[[0,0],[1,1]]},Te={x:0,y:0};function Ne(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function Oe(e,t,s){const{offset:n=Ae.All}=s,{target:r=e,axis:o="y"}=s,i=o==="y"?"height":"width",c=r!==e?ze(r,e):Te,u=r===e?{width:e.scrollWidth,height:e.scrollHeight}:Ne(r),l={width:e.clientWidth,height:e.clientHeight};t[o].offset.length=0;let a=!t[o].interpolate;const f=n.length;for(let d=0;d<f;d++){const w=je(n[d],l[i],u[i],c[o]);!a&&w!==t[o].interpolatorOffsets[d]&&(a=!0),t[o].offset[d]=w}a&&(t[o].interpolate=Y(t[o].offset,ce(n),{clamp:!1}),t[o].interpolatorOffsets=[...t[o].offset]),t[o].progress=le(0,1,t[o].interpolate(t[o].current))}function ke(e,t=e,s){if(s.x.targetOffset=0,s.y.targetOffset=0,t!==e){let n=t;for(;n&&n!==e;)s.x.targetOffset+=n.offsetLeft,s.y.targetOffset+=n.offsetTop,n=n.offsetParent}s.x.targetLength=t===e?t.scrollWidth:t.clientWidth,s.y.targetLength=t===e?t.scrollHeight:t.clientHeight,s.x.containerLength=e.clientWidth,s.y.containerLength=e.clientHeight}function Me(e,t,s,n={}){return{measure:r=>{ke(e,n.target,s),He(e,s,r),(n.offset||n.target)&&Oe(e,s,n)},notify:()=>t(s)}}const m=new WeakMap,I=new WeakMap,j=new WeakMap,F=new WeakMap,b=new WeakMap,R=e=>e===document.scrollingElement?window:e;function Q(e,{container:t=document.scrollingElement,trackContentSize:s=!1,...n}={}){if(!t)return J;let r=j.get(t);r||(r=new Set,j.set(t,r));const o=We(),i=Me(t,e,o,n);if(r.add(i),!m.has(t)){const u=()=>{for(const d of r)d.measure(ae.timestamp);p.preUpdate(l)},l=()=>{for(const d of r)d.notify()},a=()=>p.read(u);m.set(t,a);const f=R(t);window.addEventListener("resize",a,{passive:!0}),t!==document.documentElement&&I.set(t,xe(t,a)),f.addEventListener("scroll",a,{passive:!0}),a()}if(s&&!b.has(t)){const u=m.get(t),l={width:t.scrollWidth,height:t.scrollHeight};F.set(t,l);const a=()=>{const d=t.scrollWidth,w=t.scrollHeight;(l.width!==d||l.height!==w)&&(u(),l.width=d,l.height=w)},f=p.read(a,!0);b.set(t,f)}const c=m.get(t);return p.read(c,!1,!0),()=>{x(c);const u=j.get(t);if(!u||(u.delete(i),u.size))return;const l=m.get(t);m.delete(t),l&&(R(t).removeEventListener("scroll",l),I.get(t)?.(),window.removeEventListener("resize",l));const a=b.get(t);a&&(x(a),b.delete(t)),F.delete(t)}}const D=new Map;function Pe(e){const t={value:0},s=Q(n=>{t.value=n[e.axis].progress*100},e);return{currentTime:t,cancel:s}}function Z({source:e,container:t,...s}){const{axis:n}=s;e&&(t=e);const r=D.get(t)??new Map;D.set(t,r);const o=s.target??"self",i=r.get(o)??{},c=n+(s.offset??[]).join(",");return i[c]||(i[c]=!s.target&&ue()?new ScrollTimeline({source:t,axis:n}):Pe({container:t,...s})),i[c]}function Be(e,t){const s=Z(t);return e.attachTimeline({timeline:t.target?void 0:s,observe:n=>(n.pause(),q(r=>{n.time=n.iterationDuration*r},s))})}function Ie(e){return e.length===2}function Fe(e,t){return Ie(e)?Q(s=>{e(s[t.axis].progress,s)},t):q(e,Z(t))}function Re(e,{axis:t="y",container:s=document.scrollingElement,...n}={}){if(!s)return J;const r={axis:t,container:s,...n};return typeof e=="function"?Fe(e,r):Be(e,r)}const De=()=>({scrollX:v(0),scrollY:v(0),scrollXProgress:v(0),scrollYProgress:v(0)}),S=e=>e?!e.current:!1;function $e({container:e,target:t,...s}={}){const n=E(De),r=h.useRef(null),o=h.useRef(!1),i=h.useCallback(()=>(r.current=Re((c,{x:u,y:l})=>{n.scrollX.set(u.current),n.scrollXProgress.set(u.progress),n.scrollY.set(l.current),n.scrollYProgress.set(l.progress)},{...s,container:e?.current||void 0,target:t?.current||void 0}),()=>{r.current?.()}),[e,t,JSON.stringify(s.offset)]);return U(()=>{if(o.current=!1,S(e)||S(t)){o.current=!0;return}else return i()},[i]),h.useEffect(()=>{if(o.current)return N(!S(e)),N(!S(t)),i()},[i]),n}function z(e){const t=E(()=>v(e)),{isStatic:s}=h.useContext(T);if(s){const[,n]=h.useState(e);h.useEffect(()=>t.on("change",n),[])}return t}function ee(e,t){const s=z(t()),n=()=>s.set(t());return n(),U(()=>{const r=()=>p.preRender(n,!1,!0),o=e.map(i=>i.on("change",r));return()=>{o.forEach(i=>i()),x(n)}}),s}function Ge(e){C.current=[],e();const t=ee(C.current,e);return C.current=void 0,t}function H(e,t,s,n){if(typeof e=="function")return Ge(e);if(s!==void 0&&!Array.isArray(s)&&typeof t!="function")return Xe(e,t,s,n);const i=typeof t=="function"?t:Ee(t,s,n);return Array.isArray(e)?$(e,i):$([e],([c])=>i(c))}function $(e,t){const s=E(()=>[]);return ee(e,()=>{s.length=0;const n=e.length;for(let r=0;r<n;r++)s[r]=e[r].get();return t(s)})}function Xe(e,t,s,n){const r=E(()=>Object.keys(s)),o=E(()=>({}));for(const i of r)o[i]=H(e,t,s[i],n);return o}function Ye(e,t={}){const{isStatic:s}=h.useContext(T),n=()=>_(e)?e.get():e;if(s)return H(n);const r=z(n());return h.useInsertionEffect(()=>be(r,e,t),[r,JSON.stringify(t)]),r}function _e(e,t={}){return Ye(e,{type:"spring",...t})}function Je(e){const t=h.useRef(0),{isStatic:s}=h.useContext(T);h.useEffect(()=>{if(s)return;const n=({timestamp:r,delta:o})=>{t.current||(t.current=r),e(r-t.current,o)};return p.update(n,!0),()=>x(n)},[e])}function Ue(e){const t=z(e.getVelocity()),s=()=>{const n=e.getVelocity();t.set(n),n&&p.update(s)};return Se(e,"change",()=>{p.update(s,!1,!0)}),t}const Ke=e=>[...e,...e,...e];function G({src:e}){return g.jsxs("div",{className:`
      relative h-[25vh] min-h-[200px] max-h-[350px] aspect-[4/3]
      rounded-2xl overflow-hidden
      border-[1px] border-white/10
      shadow-[0_0_30px_-10px_rgba(212,175,55,0.3)] // เงาสีทองฟุ้งๆ
      group
    `,children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/0 via-white/5 to-white/0 opacity-0 group-hover:opacity-100 transition-opacity duration-700 z-10 pointer-events-none mix-blend-overlay"}),g.jsx("img",{src:e,alt:"Gallery",className:"w-full h-full object-cover scale-105 group-hover:scale-110 transition-transform duration-[2s] ease-out",loading:"lazy"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#050505]/60 via-transparent to-transparent"})]})}function X({children:e,baseVelocity:t=100}){const s=z(0),{scrollY:n}=$e(),r=Ue(n),o=_e(r,{damping:50,stiffness:400}),i=H(o,[0,1e3],[0,5],{clamp:!1}),c=H(s,l=>`${qe(-20,-45,l)}%`),u=h.useRef(1);return Je((l,a)=>{let f=u.current*t*(a/1e3);i.get()<0?u.current=-1:i.get()>0&&(u.current=1),f+=u.current*f*i.get(),s.set(s.get()+f)}),g.jsx("div",{className:"parallax overflow-hidden m-0 flex flex-nowrap whitespace-nowrap",children:g.jsxs(fe.div,{className:"scroller flex whitespace-nowrap gap-[2vw]",style:{x:c},children:[e,e,e,e]})})}const qe=(e,t,s)=>{const n=t-e;return((s-e)%n+n)%n+e};function tt({images:e}){const t=Ke(e);return g.jsxs("section",{className:"relative w-full overflow-hidden py-20 perspective-1000",children:[g.jsx("div",{className:"absolute inset-0 bg-[url('/images/grid-pattern.svg')] bg-center opacity-5 pointer-events-none fixed"}),g.jsx("div",{className:"transform -rotate-[2deg] -translate-x-[10%] scale-110 origin-center hover:opacity-90 transition-opacity duration-500",children:g.jsx(X,{baseVelocity:-2,children:t.map((s,n)=>g.jsx(G,{src:s},`row1-${n}`))})}),g.jsx("div",{className:"transform rotate-[3deg] translate-x-[5%] scale-110 origin-center mt-8 hover:opacity-90 transition-opacity duration-500",children:g.jsx(X,{baseVelocity:1.5,children:t.map((s,n)=>g.jsx(G,{src:s},`row2-${n}`))})}),g.jsx("div",{className:"absolute inset-0 pointer-events-none bg-radial-gradient-to-t from-[#050505] via-transparent to-[#050505]/80"})]})}export{tt as default};
