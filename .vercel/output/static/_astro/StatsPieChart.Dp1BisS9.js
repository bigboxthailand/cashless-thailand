import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as j}from"./index.WFquGv8Z.js";import{C as F,A as B,b as C,c as A,g as O}from"./index.DaEOfkTG.js";import{m as b}from"./proxy.Bc5WEKy4.js";import{A as E}from"./index.CojmwtN0.js";F.register(B,C,A);const $=({orders:r})=>{const[c,y]=j.useState("payment"),l=j.useMemo(()=>{if(!r||r.length===0)return null;let t=[],s=[],i=[];switch(c){case"payment":const d=r.reduce((a,o)=>{const n=o.payment_method||"Unknown";return a[n]=(a[n]||0)+1,a},{});t=Object.keys(d),s=Object.values(d),i=["#D4AF37","#3B82F6","#10B981","#F59E0B","#8B5CF6"];break;case"status":const p=r.reduce((a,o)=>{const n=o.payment_status||"Unknown";return a[n]=(a[n]||0)+1,a},{});t=Object.keys(p),s=Object.values(p),i=["#EAB308","#10B981","#3B82F6","#EF4444"];break;case"province":const m=r.reduce((a,o)=>{const n=o.province||"Unknown";return a[n]=(a[n]||0)+1,a},{}),u=Object.entries(m).sort(([,a],[,o])=>o-a).slice(0,5);t=u.map(([a])=>a),s=u.map(([,a])=>a),i=["#D4AF37","#3B82F6","#10B981","#F59E0B","#EF4444"];break;case"gender":const f=r.reduce((a,o)=>{const n=o.sex||"Unknown";return a[n]=(a[n]||0)+1,a},{});t=Object.keys(f),s=Object.values(f),i=["#3B82F6","#EC4899","#6B7280"];break;case"age":const h={"<25":0,"25-40":0,">40":0};r.forEach(a=>{const o=a.age;o<25?h["<25"]++:o>=25&&o<=40?h["25-40"]++:o>40&&h[">40"]++}),t=Object.keys(h),s=Object.values(h),i=["#10B981","#3B82F6","#F59E0B"];break;case"duration":const w=r.reduce((a,o)=>{const n=o.buy_duration||"Unknown";return a[n]=(a[n]||0)+1,a},{});t=Object.keys(w),s=Object.values(w),i=["#10B981","#3B82F6","#F59E0B","#EF4444"];break;case"products":const v={"BitNode Personal":Math.floor(r.length*.3),"CryptoClock Pro":Math.floor(r.length*.25),"Ledger Nano X":Math.floor(r.length*.2),"Trezor Model T":Math.floor(r.length*.15),Others:Math.floor(r.length*.1)};t=Object.keys(v),s=Object.values(v),i=["#D4AF37","#3B82F6","#10B981","#F59E0B","#6B7280"];break;default:return null}return{labels:t,datasets:[{data:s,backgroundColor:i,borderColor:"#0A0A0A",borderWidth:3,hoverBorderColor:"#D4AF37",hoverBorderWidth:4,hoverOffset:15}]}},[r,c]),k={responsive:!0,maintainAspectRatio:!1,animation:{animateRotate:!0,animateScale:!0,duration:800,easing:"easeOutQuart"},plugins:{legend:{position:"bottom",labels:{color:"#fff",font:{size:11,weight:"bold",family:"'Inter', sans-serif"},padding:15,usePointStyle:!0,pointStyle:"circle"}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.95)",titleColor:"#D4AF37",titleFont:{size:14,weight:"bold"},bodyColor:"#fff",bodyFont:{size:12},borderColor:"#D4AF37",borderWidth:2,padding:16,displayColors:!0,boxPadding:6,callbacks:{label:function(t){const s=t.label||"",i=t.parsed||0,d=t.dataset.data.reduce((m,u)=>m+u,0),p=(i/d*100).toFixed(1);return` ${s}: ${i} orders (${p}%)`}}}},interaction:{mode:"index",intersect:!1}},x=[{id:"payment",label:"Payment",icon:"ðŸ’³",color:"from-yellow-500 to-yellow-600"},{id:"status",label:"Status",icon:"ðŸ“¦",color:"from-green-500 to-emerald-600"},{id:"gender",label:"Gender",icon:"ðŸ‘¥",color:"from-blue-500 to-pink-500"},{id:"age",label:"Age",icon:"ðŸŽ‚",color:"from-purple-500 to-indigo-600"},{id:"duration",label:"Duration",icon:"âš¡",color:"from-orange-500 to-red-600"},{id:"province",label:"Location",icon:"ðŸ—ºï¸",color:"from-cyan-500 to-blue-600"},{id:"products",label:"Products",icon:"ðŸ“±",color:"from-pink-500 to-purple-600"}];if(!l)return e.jsxs("div",{className:"text-center py-10",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-white/20 border-t-[#D4AF37] mb-4"}),e.jsx("p",{className:"text-white/40 text-sm",children:"Loading analytics..."})]});const N=x.find(t=>t.id===c),g=l.datasets[0].data.reduce((t,s)=>t+s,0);return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex overflow-x-auto pb-2 gap-2 scrollbar-hide -mx-4 px-4 md:mx-0 md:px-0 md:flex-wrap",children:x.map(t=>e.jsxs(b.button,{onClick:()=>y(t.id),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:`px-3 py-2 text-xs font-bold rounded-lg transition-all relative overflow-hidden whitespace-nowrap flex-shrink-0 ${c===t.id?"text-white shadow-lg":"bg-white/5 text-white/50 hover:bg-white/10 hover:text-white"}`,children:[c===t.id&&e.jsx(b.div,{layoutId:"activeTab",className:`absolute inset-0 bg-gradient-to-br ${t.color}`,initial:!1,transition:{type:"spring",stiffness:500,damping:30}}),e.jsxs("span",{className:"relative z-10 flex items-center gap-1.5",children:[e.jsx("span",{className:"text-sm",children:t.icon}),e.jsx("span",{children:t.label})]})]},t.id))}),e.jsx(E,{mode:"wait",children:e.jsxs(b.div,{initial:{opacity:0,scale:.8,rotateY:90},animate:{opacity:1,scale:1,rotateY:0},exit:{opacity:0,scale:.8,rotateY:-90},transition:{duration:.5,type:"spring",stiffness:100},className:"relative",children:[e.jsx("div",{className:`absolute inset-0 blur-3xl opacity-20 bg-gradient-to-br ${N.color} rounded-full`}),e.jsx("div",{className:"relative bg-white/5 backdrop-blur-sm rounded-2xl p-6 border border-white/10 shadow-2xl",children:e.jsx("div",{className:"h-[280px]",children:e.jsx(O,{data:l,options:k})})})]},c)}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[e.jsxs(b.div,{whileHover:{scale:1.02,y:-2},className:"bg-gradient-to-br from-white/10 to-white/5 rounded-xl p-4 text-center border border-white/10 shadow-lg relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#D4AF37]/10 to-transparent"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-white/50 text-[10px] uppercase tracking-widest mb-2 font-bold",children:"Total Items"}),e.jsx("p",{className:"text-white text-2xl font-black bg-gradient-to-r from-white to-white/70 bg-clip-text text-transparent",children:g})]})]}),e.jsxs(b.div,{whileHover:{scale:1.02,y:-2},className:"bg-gradient-to-br from-white/10 to-white/5 rounded-xl p-4 text-center border border-white/10 shadow-lg relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-transparent"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-white/50 text-[10px] uppercase tracking-widest mb-2 font-bold",children:"Categories"}),e.jsx("p",{className:"text-white text-2xl font-black bg-gradient-to-r from-white to-white/70 bg-clip-text text-transparent",children:l.labels.length})]})]})]}),e.jsx("div",{className:"space-y-2",children:l.labels.map((t,s)=>{const i=l.datasets[0].data[s],d=(i/g*100).toFixed(1),p=l.datasets[0].backgroundColor[s];return e.jsxs(b.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:s*.1},className:"flex items-center justify-between bg-white/5 rounded-lg p-3 border border-white/5 hover:bg-white/10 transition-all group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full shadow-lg group-hover:scale-125 transition-transform",style:{backgroundColor:p}}),e.jsx("span",{className:"text-white/90 text-sm font-semibold",children:t})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-white/40 text-xs",children:i}),e.jsxs("span",{className:"text-[#D4AF37] text-sm font-bold min-w-[50px] text-right",children:[d,"%"]})]})]},t)})})]})};export{$ as default};
