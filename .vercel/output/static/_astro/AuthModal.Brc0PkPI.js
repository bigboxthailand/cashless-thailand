import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as l}from"./index.WFquGv8Z.js";import{s as c}from"./supabase.B9bYqD4q.js";import"./index.DR2MMlUt.js";function N({isOpen:w,onClose:d}){const[r,h]=l.useState(!0),[o,b]=l.useState(""),[a,f]=l.useState(""),[u,x]=l.useState(!1),[m,i]=l.useState(null);if(!w)return null;const p=async s=>{s.preventDefault(),x(!0),i(null);try{if(r){const{error:t}=await c.auth.signInWithPassword({email:o,password:a});if(t)throw t;window.location.reload()}else{const{error:t}=await c.auth.signUp({email:o,password:a});if(t)throw t;alert("Check your email for the confirmation link!"),h(!0)}}catch(t){i(t.message)}finally{x(!1)}},n=async s=>{try{const{error:t}=await c.auth.signInWithOAuth({provider:s,options:{redirectTo:window.location.origin}});if(t)throw t}catch(t){i(t.message)}};return e.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:d}),e.jsxs("div",{className:"bg-[#111] border border-white/10 rounded-3xl p-8 w-full max-w-md relative z-10 shadow-[0_0_50px_rgba(212,175,55,0.1)]",children:[e.jsx("button",{onClick:d,className:"absolute top-4 right-4 text-white/50 hover:text-white",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M18 6 6 18"}),e.jsx("path",{d:"m6 6 12 12"})]})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-widest mb-2",children:r?"Welcome Back":"Join the Revolution"}),e.jsx("p",{className:"text-white/50 text-sm",children:r?"Sign in to access your account":"Create your account to start shopping"})]}),e.jsxs("div",{className:"space-y-3 mb-8",children:[e.jsxs("button",{onClick:()=>n("google"),className:"w-full bg-white text-black font-bold py-3 rounded-xl flex items-center justify-center gap-3 hover:bg-gray-200 transition-colors",children:[e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),e.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),e.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),e.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]}),e.jsxs("button",{onClick:()=>n("facebook"),className:"w-full bg-[#1877F2] text-white font-bold py-3 rounded-xl flex items-center justify-center gap-3 hover:bg-[#166fe5] transition-colors",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036c-2.148 0-2.971.956-2.971 3.594v.654h4.286l-.76 3.667h-3.526v7.98H9.101Z"})}),"Continue with Facebook"]}),e.jsxs("button",{onClick:()=>n("line"),className:"w-full bg-[#06C755] text-white font-bold py-3 rounded-xl flex items-center justify-center gap-3 hover:bg-[#05b34c] transition-colors",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19.365 9.863c.349 0 .648.256.648.574v3.126c0 .318-.299.574-.648.574-.348 0-.648-.256-.648-.574v-3.126c0-.318.3-.574.648-.574zM4 12c0-4.075 3.582-7.379 8-7.379 4.418 0 8 3.304 8 7.379S16.418 19.379 12 19.379c-1.348 0-2.623-.312-3.766-.864l-2.079.578c-.68.188-1.127-.589-.757-1.1l.995-1.37C4.945 15.394 4 13.784 4 12zm8.567-2.137h-3.134c-.349 0-.648.256-.648.574v3.126c0 .318.299.574.648.574.348 0 .648-.256.648-.574v-1.74h1.838c.349 0 .648-.256.648-.574 0-.317-.299-.574-.648-.574h-1.838v-0.237h2.486c.349 0 .648-.256.648-.574 0-.317-.299-.575-.648-.575zM12 9.863c-.349 0-.648.256-.648.574v3.126c0 .318.299.574.648.574.348 0 .648-.256.648-.574V9.863zm5.086 2.552l-1.636-2.247c-.124-.173-.243-.277-.458-.293-.335-.026-.648.232-.648.558v3.14c0 .319.299.574.648.574.349 0 .648-.256.648-.574v-1.956l1.621 2.222c.113.15.267.247.46.262.336.026.648-.231.648-.557l-.001-3.153c0-.319-.299-.574-.648-.574-.349 0-.648.256-.648.574v2.014z"})}),"Continue with Line"]}),e.jsxs("button",{onClick:async()=>{if(typeof window.ethereum<"u")try{const s=await window.ethereum.request({method:"eth_requestAccounts"});localStorage.setItem("user_wallet",s[0]),window.location.reload()}catch(s){alert("ไม่สามารถเชื่อมต่อกระเป๋าเงินได้: "+s.message)}else alert("กรุณาติดตั้ง Metamask ก่อนใช้งาน!")},className:"w-full bg-[#F6851B] text-white font-bold py-3 rounded-xl flex items-center justify-center gap-3 hover:bg-[#e27613] transition-colors",children:[e.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M21.378 11.232l-2.07-5.06-2.528-1.127.351-1.408c.14-.528.07-.845-.14-.986-.176-.14-.563-.07-1.02.14l-4.116 1.83-4.116-1.83c-.457-.21-1.23-.281-1.02.14l.351 1.408-2.528 1.127-2.07 5.06c-.317.774-.14 1.83.42 2.393l4.742 4.083.493 2.076c.14.634.704 1.126 1.337 1.126h5.836c.633 0 1.196-.492 1.337-1.126l.492-2.076 4.742-4.083c.563-.563.738-1.62.42-2.393zM10.865 7.185l1.09-1.09 1.09 1.09.281 1.9-1.372 1.548-1.371-1.548.282-1.9zm-4.36 4.962l-.774-3.098 3.378-1.513-1.02 4.152-1.584.458zm5.451 7.214l-.387-1.62h3.905l-.386 1.62H11.956zm2.815-3.026l-1.337 1.373-1.442-1.302-1.442 1.302-1.337-1.373-.633-3.414 1.97-2.217h3.378l1.97 2.217-.633 3.414zm.81-4.645l-1.02-4.152 3.378 1.513-.775 3.097-1.583-.458z"})}),"เข้าสู่ระบบด้วย Metamask"]})]}),e.jsxs("div",{className:"relative mb-8",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-white/10"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-[#111] text-white/40",children:"Or continue with email"})})]}),m&&e.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-3 rounded-lg mb-4 text-xs",children:m}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsx("div",{children:e.jsx("input",{type:"email",placeholder:"Email address",className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-[#D4AF37] transition-all",value:o,onChange:s=>b(s.target.value),required:!0})}),e.jsx("div",{children:e.jsx("input",{type:"password",placeholder:"Password",className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-[#D4AF37] transition-all",value:a,onChange:s=>f(s.target.value),required:!0})}),e.jsx("button",{type:"submit",disabled:u,className:"w-full bg-[#D4AF37] text-black font-bold py-3 rounded-xl hover:bg-[#b89530] transition-colors disabled:opacity-50",children:u?"Processing...":r?"Sign In":"Create Account"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{onClick:()=>h(!r),className:"text-white/60 hover:text-[#D4AF37] text-sm transition-colors",children:r?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})]})}export{N as default};
