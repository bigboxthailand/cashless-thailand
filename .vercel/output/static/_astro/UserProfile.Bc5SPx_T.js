import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as l}from"./index.WFquGv8Z.js";import{s as i}from"./supabase.B9bYqD4q.js";import"./index.DR2MMlUt.js";const de=["adventurer","avataaars","big-ears","bottts","croodles","fun-emoji","micah","miniavs","open-peeps","personas"];function ge(){const[r,x]=l.useState(null),[w,H]=l.useState([]),[q,B]=l.useState(!0),[h,W]=l.useState("dashboard"),[c,u]=l.useState(null),[$,v]=l.useState(!1),[D,T]=l.useState(null),[F,S]=l.useState("not_received"),[C,L]=l.useState(""),[U,ce]=l.useState([]),[xe,he]=l.useState(!1),[V,m]=l.useState(!1),[M,G]=l.useState(Math.random().toString()),[j,R]=l.useState("avataaars"),z=l.useRef(null),[pe,I]=l.useState(!1),[b,Y]=l.useState([]),[K,N]=l.useState(!1),[p,Z]=l.useState(null),[k,E]=l.useState(5),[P,O]=l.useState("");l.useEffect(()=>{J(),y(),f()},[]);const J=async()=>{try{const{data:{user:t}}=await i.auth.getUser();if(!t)return;const{data:s,error:a}=await i.from("profiles").select("*").eq("id",t.id).single();a&&a.code!=="PGRST116"&&console.error(a),x(s?{...s,first_name:s.full_name?.split(" ")[0]||"",last_name:s.full_name?.split(" ").slice(1).join(" ")||""}:{id:t.id,first_name:t.user_metadata.full_name?.split(" ")[0]||"",last_name:t.user_metadata.full_name?.split(" ").slice(1).join(" ")||"",email:t.email,avatar_url:null})}catch(t){console.error("Error loading profile:",t)}finally{const t=localStorage.getItem("user_wallet");t&&!r&&x(s=>s||{first_name:"Wallet",last_name:"User",email:t.substring(0,6)+"..."+t.substring(38),avatar_url:`https://api.dicebear.com/7.x/identicon/svg?seed=${t}`}),B(!1)}},y=async()=>{const{data:{user:t}}=await i.auth.getUser();if(!t)return;const{data:s}=await i.from("addresses").select("*").eq("user_id",t.id).order("is_default",{ascending:!1}),a=(s||[]).map(d=>({...d,first_name:d.full_name?d.full_name.split(" ")[0]:"",last_name:d.full_name?d.full_name.split(" ").slice(1).join(" "):"",zip_code:d.zipcode,label:"Home"}));H(a)},f=async()=>{const{data:{user:t}}=await i.auth.getUser();if(t)try{await i.rpc("check_order_automations");const{data:s,error:a}=await i.from("orders").select(`
                    *,
                    reviews (product_id, rating),
                    order_items (
                        product_id,
                        *,
                        product:product_id (meta, media)
                    )
                `).eq("user_id",t.id).order("created_at",{ascending:!1});if(a)throw a;const d=s.map(n=>({id:n.id,date:new Date(n.created_at).toLocaleDateString("th-TH"),total:n.total_price,status:n.payment_status,shippingStatus:n.shipping_status||"pending",trackingNumber:n.tracking_number,paymentMethod:n.payment_method?.toUpperCase()||"UNKNOWN",items:n.order_items.map(o=>({productId:o.product_id,title:o.product?.meta?.title||o.title||"Unknown Product",quantity:o.quantity,price:o.price,image:o.product?.media?.mainImage||o.image_url||"https://placehold.co/100x100?text=No+Image",hasReviewed:n.reviews?.some(A=>A.product_id===o.product_id)}))}));Y(d)}catch(s){console.error("Error fetching orders:",s)}},Q=async t=>{if(!confirm("ยืนยันว่าได้รับสินค้าแล้ว? (Confirm Receipt)"))return;const{error:s}=await i.from("orders").update({shipping_status:"delivered",received_at:new Date}).eq("id",t);s?alert("Error: "+s.message):(await f(),alert("ขอบคุณ! เลิอกสินค้าเพื่อรีวิวได้เลย"))},X=(t,s)=>{Z({orderId:t,productId:s.productId,title:s.title,image:s.image}),E(5),O(""),N(!0)},ee=async t=>{if(t.preventDefault(),!p?.productId){alert("Error: Product ID is missing. Please try again."),console.error("Review Target Missing Product ID:",p);return}const s=p.productId.replace(/-(standard|s|m|l|xl|xxl)$/i,"");try{const{error:a}=await i.from("reviews").insert({user_id:r.id,order_id:p.orderId,product_id:s,rating:k,comment:P});if(a)throw a;alert("รีวิวสำเร็จ! (Review Submitted)"),N(!1),f()}catch(a){alert("Error: "+a.message)}},te=t=>{T({orderId:t}),S("not_received"),L(""),v(!0)},se=async t=>{if(t.preventDefault(),!!confirm("ยืนยันแจ้งปัญหา? (Submit Dispute)"))try{const{error:s}=await i.from("disputes").insert({order_id:D.orderId,user_id:r.id,reason:F,description:C,status:"open",evidence_images:U});if(s)throw s;const{error:a}=await i.from("orders").update({shipping_status:"dispute"}).eq("id",D.orderId);if(a)throw a;alert("แจ้งปัญหาเรียบร้อย เจ้าหน้าที่จะรีบตรวจสอบครับ"),v(!1),f()}catch(s){alert("Error: "+s.message)}},ae=async t=>{t.preventDefault();const{data:{user:s}}=await i.auth.getUser();if(!s){alert("กรุณา login ก่อนบันทึกที่อยู่");return}const a=t.target,d=`${a.first_name.value} ${a.last_name.value}`.trim(),n={user_id:s.id,full_name:d,phone:a.phone.value,address_line1:a.address_line1.value,district:a.district.value,province:a.province.value,zipcode:a.zip_code.value,is_default:a.is_default.checked};let o;c?.id?o=await i.from("addresses").update(n).eq("id",c.id):o=await i.from("addresses").insert(n),o.error?(alert("Error saving address: "+o.error.message),console.error(o.error)):(u(null),y())},re=async t=>{confirm("Are you sure?")&&(await i.from("addresses").delete().eq("id",t),y())},_=async(t,s={})=>{t&&t.preventDefault();try{const{data:{user:a}}=await i.auth.getUser();if(!a)throw new Error("No user found");const d={id:a.id,full_name:`${r.first_name||""} ${r.last_name||""}`.trim(),phone:r.phone,tax_id:r.tax_id,date_of_birth:r.date_of_birth,sex:r.gender,bio:r.bio,updated_at:new Date,...s},{error:n}=await i.from("profiles").upsert(d);if(n)throw n;x(o=>({...o,...d})),s.avatar_url||alert("Profile updated successfully!")}catch(a){alert("Error updating profile: "+a.message)}},le=async()=>{await i.auth.signOut(),window.location.href="/"},ie=()=>{const t=`https://api.dicebear.com/7.x/${j}/svg?seed=${M}`;_(null,{avatar_url:t}),m(!1)},oe=async t=>{try{if(I(!0),!t.target.files||t.target.files.length===0)throw new Error("You must select an image to upload.");const s=t.target.files[0],a=s.name.split(".").pop(),n=`${`${Math.random()}.${a}`}`,{error:o}=await i.storage.from("avatars").upload(n,s);if(o)throw o;const{data:A}=i.storage.from("avatars").getPublicUrl(n);_(null,{avatar_url:A.publicUrl}),m(!1)}catch(s){alert("Error uploading avatar: "+s.message)}finally{I(!1)}},ne=()=>e.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>m(!1)}),e.jsxs("div",{className:"bg-[#111] border border-[#D4AF37]/20 rounded-3xl p-6 w-full max-w-lg relative z-10 shadow-[0_0_50px_rgba(212,175,55,0.1)]",children:[e.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-widest mb-6 text-center",children:"Customize Avatar"}),e.jsxs("div",{className:"flex gap-2 mb-6 p-1 bg-black rounded-xl border border-white/5",children:[e.jsx("button",{onClick:()=>R("avataaars"),className:"flex-1 py-2 rounded-lg text-sm font-bold text-[#D4AF37] bg-white/10 hover:bg-white/20 transition-all",children:"Cartoon"}),e.jsx("button",{onClick:()=>z.current.click(),className:"flex-1 py-2 rounded-lg text-sm font-bold text-white/50 hover:text-white hover:bg-white/5 transition-all",children:"Upload Photo"}),e.jsx("input",{type:"file",ref:z,onChange:oe,className:"hidden",accept:"image/*"})]}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"w-40 h-40 rounded-full overflow-hidden border-4 border-[#D4AF37] shadow-[0_0_30px_#D4AF37] bg-white",children:e.jsx("img",{src:`https://api.dicebear.com/7.x/${j}/svg?seed=${M}`,className:"w-full h-full object-cover"})})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-white/50 uppercase tracking-wider mb-2 block",children:"Style"}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:de.map(t=>e.jsx("button",{onClick:()=>R(t),className:`px-4 py-2 rounded-full text-xs font-bold whitespace-nowrap border transition-all ${j===t?"border-[#D4AF37] text-[#D4AF37] bg-[#D4AF37]/10":"border-white/10 text-white/50 hover:border-white/30"}`,children:t},t))})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{onClick:()=>G(Math.random().toString()),className:"flex-1 bg-white/5 border border-white/10 text-white py-3 rounded-xl hover:bg-white/10 transition-all active:scale-95 flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Randomize"]}),e.jsx("button",{onClick:ie,className:"flex-[2] bg-[#D4AF37] text-black font-bold py-3 rounded-xl hover:bg-[#b89530] transition-all active:scale-95 shadow-[0_0_20px_rgba(212,175,55,0.4)]",children:"Use this Avatar"})]})]})]})]});if(q)return e.jsx("div",{className:"flex items-center justify-center min-h-[600px]",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-[#D4AF37]/30 border-t-[#D4AF37] rounded-full animate-spin"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-[10px] font-bold text-[#D4AF37] animate-pulse",children:"LOADING"})]})});const g=({id:t,label:s,icon:a})=>e.jsxs("button",{onClick:()=>W(t),className:`w-full text-left px-5 py-4 rounded-2xl transition-all border flex items-center gap-4 group ${h===t?"bg-[#D4AF37] border-[#D4AF37] text-black shadow-[0_0_20px_rgba(212,175,55,0.3)]":"bg-transparent border-transparent text-white/60 hover:text-white hover:bg-white/5"}`,children:[e.jsx("span",{className:`p-2 rounded-lg ${h===t?"bg-black/20 text-black":"bg-white/5 text-white/60 group-hover:text-white"}`,children:a}),e.jsx("span",{className:"font-bold uppercase text-xs tracking-widest flex-1",children:s}),h===t&&e.jsx("svg",{className:"w-4 h-4 animate-slide-left",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]});return e.jsxs("div",{className:"grid lg:grid-cols-12 gap-8 items-start",children:[V&&e.jsx(ne,{}),K&&e.jsxs("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-md",onClick:()=>N(!1)}),e.jsxs("div",{className:"bg-[#1a1a1a] border border-[#D4AF37]/30 rounded-3xl p-8 w-full max-w-lg relative z-10 shadow-[0_0_50px_rgba(212,175,55,0.2)] animate-fade-in-up",children:[e.jsx("h3",{className:"text-2xl font-black text-white uppercase tracking-widest mb-6 text-center",children:"Review Product"}),e.jsxs("div",{className:"flex items-center gap-4 mb-6 bg-white/5 p-4 rounded-xl border border-white/5",children:[e.jsx("img",{src:p?.image,className:"w-16 h-16 rounded-lg object-cover"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-white line-clamp-1",children:p?.title}),e.jsxs("p",{className:"text-xs text-white/40 uppercase tracking-widest",children:["Order: ",p?.orderId]})]})]}),e.jsxs("form",{onSubmit:ee,className:"space-y-6",children:[e.jsx("div",{className:"flex justify-center gap-2",children:[1,2,3,4,5].map(t=>e.jsx("button",{type:"button",onClick:()=>E(t),className:`text-4xl transition-all hover:scale-110 ${k>=t?"text-[#D4AF37]":"text-white/10"}`,children:"★"},t))}),e.jsxs("p",{className:"text-center text-[#D4AF37] font-bold text-sm uppercase tracking-widest",children:[k," out of 5 Stars"]}),e.jsx("textarea",{required:!0,rows:"4",placeholder:"Share your experience...",className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#D4AF37] focus:bg-black outline-none transition-all resize-none",value:P,onChange:t=>O(t.target.value)}),e.jsx("button",{className:"w-full bg-[#D4AF37] text-black font-bold py-4 rounded-xl hover:bg-[#b89530] transition-all shadow-[0_4px_20px_rgba(212,175,55,0.3)] uppercase tracking-widest",children:"Submit Review"})]})]})]}),$&&e.jsxs("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/95 backdrop-blur-md",onClick:()=>v(!1)}),e.jsxs("div",{className:"bg-[#1a1a1a] border border-red-500/30 rounded-3xl p-8 w-full max-w-lg relative z-10 shadow-[0_0_50px_rgba(239,68,68,0.2)] animate-fade-in-up",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6 justify-center text-red-500",children:[e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsx("h3",{className:"text-2xl font-black uppercase tracking-widest",children:"Report Issue"})]}),e.jsxs("form",{onSubmit:se,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-white/50 text-xs font-bold uppercase tracking-widest",children:"Reason"}),e.jsxs("select",{className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-red-500 focus:bg-black outline-none transition-all",value:F,onChange:t=>S(t.target.value),children:[e.jsx("option",{value:"not_received",children:"I did not receive the order"}),e.jsx("option",{value:"damaged",children:"Goods were damaged"}),e.jsx("option",{value:"wrong_item",children:"Received wrong item"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-white/50 text-xs font-bold uppercase tracking-widest",children:"Description"}),e.jsx("textarea",{required:!0,rows:"4",placeholder:"Please describe the issue in detail...",className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-red-500 focus:bg-black outline-none transition-all resize-none",value:C,onChange:t=>L(t.target.value)})]}),e.jsx("div",{className:"p-4 bg-red-500/10 rounded-xl border border-red-500/20",children:e.jsxs("p",{className:"text-red-400 text-xs flex gap-2",children:[e.jsx("span",{className:"font-bold",children:"Note:"}),'Funds will be held by "Cashless Thailand" until the issue is resolved.']})}),e.jsx("button",{className:"w-full bg-red-600 text-white font-bold py-4 rounded-xl hover:bg-red-500 transition-all shadow-[0_4px_20px_rgba(220,38,38,0.3)] uppercase tracking-widest",children:"Submit Report"})]})]})]}),e.jsx("div",{className:"lg:col-span-3 space-y-6",children:e.jsxs("div",{className:"bg-[#111]/80 backdrop-blur-xl border border-white/10 rounded-[2rem] p-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-50",children:e.jsx("div",{className:"w-20 h-20 bg-[#D4AF37]/20 blur-[40px] rounded-full"})}),e.jsxs("div",{className:"text-center relative z-10 mb-8",children:[e.jsxs("div",{className:"relative inline-block mb-4 group cursor-pointer",onClick:()=>m(!0),children:[e.jsx("div",{className:"w-28 h-28 rounded-full overflow-hidden border-4 border-[#D4AF37] shadow-[0_0_30px_rgba(212,175,55,0.3)] bg-black mx-auto transition-transform group-hover:scale-105",children:r?.avatar_url?e.jsx("img",{src:r.avatar_url,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-4xl font-black text-[#D4AF37] bg-white/5",children:r?.first_name?.[0]||"U"})}),e.jsx("div",{className:"absolute bottom-1 right-1 w-8 h-8 bg-black rounded-full flex items-center justify-center border border-[#D4AF37] text-[#D4AF37]",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}),e.jsxs("h2",{className:"text-xl font-black text-white uppercase tracking-wider",children:[r?.first_name||"User"," ",r?.last_name]}),e.jsx("p",{className:"text-[#D4AF37] text-xs font-bold uppercase tracking-widest mt-1",children:"Verified Member"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{id:"dashboard",label:"Dashboard",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),e.jsx(g,{id:"info",label:"My Profile",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsx(g,{id:"addresses",label:"Addresses",icon:e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e.jsx(g,{id:"history",label:"Order History",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),e.jsx("div",{className:"pt-6 mt-6 border-t border-white/10",children:e.jsxs("button",{onClick:le,className:"w-full py-4 rounded-xl border border-red-500/20 text-red-500 hover:bg-red-500 hover:text-white transition-all font-bold uppercase text-xs tracking-widest flex items-center justify-center gap-3 group",children:[e.jsx("svg",{className:"w-5 h-5 transition-transform group-hover:-translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})})]})}),e.jsxs("div",{className:"lg:col-span-9 space-y-6",children:[h==="dashboard"&&e.jsxs("div",{className:"animate-fade-in space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-[#1a1a1a] border border-white/10 rounded-3xl p-6 relative overflow-hidden group hover:border-[#D4AF37]/50 transition-colors",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:e.jsx("svg",{className:"w-24 h-24 text-[#D4AF37]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),e.jsx("h3",{className:"text-white/40 text-xs font-bold uppercase tracking-widest mb-1",children:"Total Orders"}),e.jsx("p",{className:"text-4xl font-black text-white",children:b.length})]}),e.jsxs("div",{className:"bg-[#1a1a1a] border border-white/10 rounded-3xl p-6 relative overflow-hidden group hover:border-[#D4AF37]/50 transition-colors",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:e.jsx("svg",{className:"w-24 h-24 text-[#D4AF37]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})})}),e.jsx("h3",{className:"text-white/40 text-xs font-bold uppercase tracking-widest mb-1",children:"Saved Addresses"}),e.jsx("p",{className:"text-4xl font-black text-white",children:w.length})]}),e.jsxs("div",{className:"bg-gradient-to-br from-[#D4AF37] to-[#8a7020] rounded-3xl p-6 relative overflow-hidden text-black shadow-[0_0_30px_rgba(212,175,55,0.2)]",children:[e.jsx("h3",{className:"text-black/60 text-xs font-bold uppercase tracking-widest mb-1",children:"Member Status"}),e.jsx("p",{className:"text-3xl font-black uppercase",children:"Gold Tier"}),e.jsx("div",{className:"mt-4 bg-black/10 rounded-full h-1 w-full overflow-hidden",children:e.jsx("div",{className:"bg-black w-3/4 h-full"})}),e.jsx("p",{className:"text-[10px] font-bold mt-2 opacity-60",children:"Points: 1,250 / 2,000"})]})]}),e.jsxs("div",{className:"bg-[#111]/50 backdrop-blur-md border border-white/10 rounded-3xl p-8",children:[e.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-widest mb-6 border-b border-white/10 pb-4",children:"Recent Activity"}),b.length>0?e.jsx("div",{className:"space-y-4",children:b.map((t,s)=>e.jsxs("div",{className:"flex items-center gap-4 bg-white/5 p-4 rounded-xl border border-white/5 hover:border-[#D4AF37]/30 transition-all",children:[e.jsx("div",{className:"w-12 h-12 bg-[#D4AF37]/20 rounded-full flex items-center justify-center text-[#D4AF37]",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"text-white font-bold",children:[t.paymentMethod," Payment"]}),e.jsxs("p",{className:"text-white/40 text-xs text-mono",children:["ID: ",t.id]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-[#D4AF37] font-bold",children:[t.total.toLocaleString()," ฿"]}),e.jsx("p",{className:"text-white/30 text-[10px]",children:t.date})]})]},s))}):e.jsx("p",{className:"text-white/40 italic",children:"No recent activity."})]})]}),h==="info"&&e.jsxs("div",{className:"bg-[#111]/50 backdrop-blur-md border border-white/10 rounded-3xl p-8 md:p-10 animate-fade-in",children:[e.jsx("div",{className:"mb-8 border-b border-white/10 pb-4 flex justify-between items-end",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-white uppercase tracking-tighter",children:"Edit Profile"}),e.jsx("p",{className:"text-white/40 text-sm mt-1",children:"Manage your personal information."})]})}),e.jsxs("form",{onSubmit:_,className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-white/40 text-[10px] font-bold uppercase tracking-widest",children:"First Name"}),e.jsx("input",{type:"text",className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#D4AF37] focus:bg-black outline-none transition-all",value:r?.first_name||"",onChange:t=>x({...r,first_name:t.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-white/40 text-[10px] font-bold uppercase tracking-widest",children:"Last Name"}),e.jsx("input",{type:"text",className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#D4AF37] focus:bg-black outline-none transition-all",value:r?.last_name||"",onChange:t=>x({...r,last_name:t.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-white/40 text-[10px] font-bold uppercase tracking-widest",children:"Phone Number"}),e.jsx("input",{type:"tel",className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#D4AF37] focus:bg-black outline-none transition-all font-mono",placeholder:"+66",value:r?.phone||"",onChange:t=>x({...r,phone:t.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-white/40 text-[10px] font-bold uppercase tracking-widest",children:"Tax ID (Optional)"}),e.jsx("input",{type:"text",className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#D4AF37] focus:bg-black outline-none transition-all font-mono",placeholder:"Identification Number",value:r?.tax_id||"",onChange:t=>x({...r,tax_id:t.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-white/40 text-[10px] font-bold uppercase tracking-widest",children:"Date of Birth"}),e.jsx("input",{type:"date",className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#D4AF37] focus:bg-black outline-none transition-all",value:r?.date_of_birth||"",onChange:t=>x({...r,date_of_birth:t.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-white/40 text-[10px] font-bold uppercase tracking-widest",children:"Gender"}),e.jsxs("select",{className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#D4AF37] focus:bg-black outline-none transition-all appearance-none",value:r?.gender||"Not Specified",onChange:t=>x({...r,gender:t.target.value}),children:[e.jsx("option",{value:"Not Specified",children:"Not Specified"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"}),e.jsx("option",{value:"Other",children:"Other"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-white/40 text-[10px] font-bold uppercase tracking-widest",children:"Bio / About Me"}),e.jsx("textarea",{rows:"3",className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#D4AF37] focus:bg-black outline-none transition-all resize-none",placeholder:"Tell us a little bit about yourself...",value:r?.bio||"",onChange:t=>x({...r,bio:t.target.value})})]}),e.jsx("div",{className:"pt-4 border-t border-white/10 flex justify-end",children:e.jsx("button",{className:"bg-[#D4AF37] text-black font-bold px-10 py-4 rounded-xl hover:bg-[#b89530] transition-colors shadow-[0_4px_20px_rgba(212,175,55,0.3)] uppercase tracking-wider text-sm",children:"Save Changes"})})]})]}),h==="addresses"&&e.jsxs("div",{className:"bg-[#111]/50 backdrop-blur-md border border-white/10 rounded-3xl p-8 animate-fade-in",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8 border-b border-white/10 pb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-white uppercase tracking-tighter",children:"My Addresses"}),e.jsx("p",{className:"text-white/40 text-sm mt-1",children:"Manage shipping locations."})]}),e.jsxs("button",{onClick:()=>u({}),className:"bg-[#D4AF37]/10 hover:bg-[#D4AF37] hover:text-black text-[#D4AF37] border border-[#D4AF37]/50 px-6 py-3 rounded-xl text-xs font-bold uppercase tracking-widest flex items-center gap-2 transition-all",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add New"]})]}),c?e.jsxs("form",{onSubmit:ae,className:"bg-white/5 p-8 rounded-2xl border border-white/10 space-y-6 animate-fade-in-up",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-3",children:[e.jsx("span",{className:"w-8 h-8 rounded-full bg-[#D4AF37] text-black flex items-center justify-center text-xs",children:c.id?"✎":"+"}),c.id?"Edit Address":"New Address"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-white/40 uppercase tracking-widest",children:"Receiver Name"}),e.jsx("input",{name:"first_name",defaultValue:c?.first_name||r?.first_name,className:"w-full bg-black border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#D4AF37] outline-none",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-white/40 uppercase tracking-widest",children:"Last Name"}),e.jsx("input",{name:"last_name",defaultValue:c?.last_name||r?.last_name,className:"w-full bg-black border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#D4AF37] outline-none",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-white/40 uppercase tracking-widest",children:"Phone"}),e.jsx("input",{name:"phone",defaultValue:c?.phone||r?.phone,className:"w-full bg-black border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#D4AF37] outline-none",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-white/40 uppercase tracking-widest",children:"Label (Optional)"}),e.jsx("input",{name:"label",placeholder:"e.g. Home, Office",defaultValue:c?.label,className:"w-full bg-black border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#D4AF37] outline-none"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-white/40 uppercase tracking-widest",children:"Address Line"}),e.jsx("input",{name:"address_line1",placeholder:"House No, Soi, Road",defaultValue:c?.address_line1,className:"w-full bg-black border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#D4AF37] outline-none",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-white/40 uppercase tracking-widest",children:"District"}),e.jsx("input",{name:"district",defaultValue:c?.district,className:"w-full bg-black border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#D4AF37] outline-none",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-white/40 uppercase tracking-widest",children:"Province"}),e.jsx("input",{name:"province",defaultValue:c?.province,className:"w-full bg-black border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#D4AF37] outline-none",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 items-end",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-white/40 uppercase tracking-widest",children:"Zip Code"}),e.jsx("input",{name:"zip_code",defaultValue:c?.zip_code,className:"w-full bg-black border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#D4AF37] outline-none",required:!0})]}),e.jsxs("label",{className:"flex items-center gap-3 text-white text-sm cursor-pointer select-none bg-black/30 p-3 rounded-xl border border-white/5 hover:bg-black/50 transition-colors",children:[e.jsx("input",{name:"is_default",type:"checkbox",defaultChecked:c?.is_default,className:"accent-[#D4AF37] w-5 h-5 rounded"}),e.jsx("span",{className:"font-bold",children:"Set as Default Address"})]})]}),e.jsxs("div",{className:"flex gap-4 pt-6 border-t border-white/10 mt-6",children:[e.jsx("button",{className:"bg-[#D4AF37] text-black px-8 py-3 rounded-xl font-bold hover:bg-[#b89530] transition-colors shadow-lg",children:"Save Address"}),e.jsx("button",{type:"button",onClick:()=>u(null),className:"text-white/60 hover:text-white px-6 py-3 hover:bg-white/5 rounded-xl transition-all",children:"Cancel"})]})]}):e.jsxs("div",{className:"grid gap-4",children:[w.map(t=>e.jsxs("div",{className:"p-6 border border-white/10 bg-[#161616] rounded-2xl flex flex-col md:flex-row justify-between items-start hover:border-[#D4AF37] transition-all group relative overflow-hidden",children:[e.jsxs("div",{className:"relative z-10 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("span",{className:"text-white font-black text-lg uppercase tracking-wider",children:t.label||"Home"}),t.is_default&&e.jsx("span",{className:"bg-[#D4AF37] text-black text-[10px] px-2 py-0.5 rounded font-black uppercase tracking-widest",children:"Default"})]}),e.jsxs("div",{className:"text-white/80 text-sm space-y-1",children:[e.jsxs("p",{className:"font-bold",children:[t.first_name," ",t.last_name," ",e.jsxs("span",{className:"text-white/30 font-normal ml-2",children:["(",t.phone,")"]})]}),e.jsxs("p",{className:"opacity-70",children:[t.address_line1,", ",t.district]}),e.jsxs("p",{className:"opacity-70",children:[t.province,", ",t.zip_code]})]})]}),e.jsxs("div",{className:"flex gap-2 mt-4 md:mt-0 relative z-10",children:[e.jsx("button",{onClick:()=>u(t),className:"px-4 py-2 bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl text-white font-bold text-xs uppercase tracking-widest transition-all",children:"Edit"}),e.jsx("button",{onClick:()=>re(t.id),className:"px-3 py-2 text-white/20 hover:text-red-500 hover:bg-red-500/10 rounded-xl transition-all",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},t.id)),w.length===0&&e.jsxs("div",{className:"text-center py-16 border-2 border-dashed border-white/10 rounded-3xl bg-white/[0.02]",children:[e.jsx("div",{className:"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4 text-white/20",children:e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})})}),e.jsx("p",{className:"text-white/40 mb-6 max-w-sm mx-auto",children:"You haven't saved any addresses yet. Add one to make checkout faster."}),e.jsx("button",{onClick:()=>u({}),className:"text-[#D4AF37] font-bold hover:underline uppercase tracking-widest text-xs",children:"+ Add New Address"})]})]})]}),h==="history"&&e.jsxs("div",{className:"bg-[#111]/50 backdrop-blur-md border border-white/10 rounded-3xl p-8 animate-fade-in",children:[e.jsx("h2",{className:"text-3xl font-black text-white uppercase tracking-tighter mb-8 border-b border-white/10 pb-4",children:"Order History"}),b.length>0?e.jsx("div",{className:"space-y-6",children:b.map((t,s)=>e.jsxs("div",{className:"bg-[#1a1a1a] border border-white/10 rounded-2xl overflow-hidden hover:border-[#D4AF37]/50 transition-all shadow-lg",children:[e.jsxs("div",{className:"bg-black/40 p-4 border-b border-white/5 flex flex-wrap justify-between items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white/40 text-[10px] font-bold uppercase tracking-widest",children:"Order ID"}),e.jsx("p",{className:"text-white font-mono text-sm",children:t.id})]}),e.jsxs("div",{className:"text-right flex items-center gap-3",children:[t.shippingStatus==="shipped"&&e.jsx("button",{onClick:()=>Q(t.id),className:"px-3 py-1 bg-green-500 hover:bg-green-400 text-black rounded-lg text-[10px] font-bold uppercase tracking-widest transition-all shadow-[0_0_15px_rgba(34,197,94,0.4)] animate-pulse",children:"Confirm Received"}),["shipped","delivered"].includes(t.shippingStatus)&&e.jsx("button",{onClick:()=>te(t.id),className:"px-3 py-1 bg-red-500/10 hover:bg-red-500 text-red-500 hover:text-white border border-red-500/20 rounded-lg text-[10px] font-bold uppercase tracking-widest transition-all",children:"Report Issue"}),e.jsx("span",{className:`inline-block px-3 py-1 border rounded-lg text-[10px] font-bold uppercase tracking-widest ${["paid","shipped","delivered"].includes(t.status?.toLowerCase())?"bg-green-500/10 text-green-500 border-green-500/20":"bg-yellow-500/10 text-yellow-500 border-yellow-500/20"}`,children:t.shippingStatus==="delivered"?"DELIVERED":t.status||"Pending"})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex gap-4 mb-6 overflow-x-auto pb-2 no-scrollbar",children:t.items.map((a,d)=>e.jsxs("div",{onClick:()=>t.shippingStatus==="delivered"&&!a.hasReviewed?X(t.id,a):null,className:`flex-shrink-0 w-16 h-16 bg-black rounded-lg overflow-hidden border border-white/10 relative group ${t.shippingStatus==="delivered"&&!a.hasReviewed?"cursor-pointer hover:border-[#D4AF37]":""}`,children:[e.jsx("img",{src:a.image,className:"w-full h-full object-cover opacity-80 group-hover:opacity-40 transition-all"}),e.jsxs("div",{className:"absolute bottom-0 right-0 bg-black/80 text-white text-[10px] px-1 font-bold",children:["x",a.quantity]}),t.shippingStatus==="delivered"&&!a.hasReviewed&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40",children:e.jsx("span",{className:"text-[8px] font-bold bg-[#D4AF37] text-black px-2 py-1 rounded shadow-lg uppercase animate-pulse",children:"Review"})}),a.hasReviewed&&e.jsx("div",{className:"absolute top-0 right-0 bg-green-500 text-black text-[8px] font-black px-1 rounded-bl shadow-sm",children:"✓"})]},d))}),e.jsxs("div",{className:"flex justify-between items-end border-t border-white/5 pt-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-white/40 text-xs mb-1",children:["Date: ",t.date]}),e.jsxs("p",{className:"text-white/40 text-xs",children:["Payment: ",e.jsx("span",{className:"text-white font-bold",children:t.paymentMethod})]}),t.trackingNumber&&e.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 bg-white/5 px-3 py-1.5 rounded-lg border border-white/10",children:[e.jsx("span",{className:"text-[10px] font-bold text-white/40 uppercase tracking-widest",children:"Tracking:"}),e.jsx("span",{className:"text-[#D4AF37] font-mono font-bold text-sm select-all",children:t.trackingNumber})]})]}),e.jsxs("p",{className:"text-2xl font-black text-[#D4AF37]",children:[t.total.toLocaleString()," ฿"]})]})]})]},s))}):e.jsxs("div",{className:"text-center py-24",children:[e.jsx("div",{className:"w-20 h-20 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-6 text-white/20",children:e.jsx("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsx("h3",{className:"text-2xl font-black text-white uppercase tracking-tight mb-2",children:"No Orders Found"}),e.jsx("p",{className:"text-white/40 text-sm mb-8",children:"Once you make a purchase, it will appear here."}),e.jsx("a",{href:"/shop",className:"bg-[#D4AF37] text-black font-bold px-8 py-3 rounded-xl hover:bg-[#b89530] transition-colors inline-flex items-center gap-2",children:e.jsx("span",{children:"Go to Shop"})})]})]})]})]})}export{ge as default};
