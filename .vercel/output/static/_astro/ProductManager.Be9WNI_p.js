import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as p}from"./index.WFquGv8Z.js";import{s as x}from"./supabase.B9bYqD4q.js";import{A as ce}from"./index.CojmwtN0.js";import{m as K}from"./proxy.Bc5WEKy4.js";import"./index.DR2MMlUt.js";const ge=({initialProducts:W})=>{const[S,j]=p.useState(W||[]),[q,u]=p.useState(!1),[A,D]=p.useState(!1),[F,g]=p.useState(!1),[b,w]=p.useState("basic"),O={id:null,name:"",category:"Hardware Wallet",description:"",images:["","","","",""],video:"",brand:"",model:"",condition:"New",price:"",stock:"",sku:"",hasVariants:!1,variantOptions:[],variantCombinations:[],weight:"",width:"",length:"",height:"",subcategory:"",marketing:{headline:"",subheadline:"",benefits:[]},techSpecs:[],manualLink:""},[s,r]=p.useState(O),[N,_]=p.useState(""),[y,P]=p.useState("list"),E={"Hardware Wallet":["Trezor","Ledger","Tangem","OneKey","BitBox","Keystone"],Clock:["BitBlock","Tickr","Custom","Desktop","Wall"],Accessory:["Cable","Case","Stand","Sticker","Seed Storage"],Kiosk:["POS Terminal","ATM","Display","Vending"],Book:["Education","Novel","Comic","Whitepaper","Technical","Investment"],eBook:["PDF","ePub","Kindle","Audiobook"],"Digital Content":["Course","Voucher","Subscription","License"],Merchandise:["T-Shirt","Cap","Hoodie","Mug","Bag","Sticker Pack"],Shirt:["T-Shirt","Polo","Hoodie"],Keychain:["Metal","Acrylic","Leather"],Mug:["Ceramic","Thermal","Travel"]};p.useEffect(()=>{!s.hasVariants||s.variantOptions.length},[s.variantOptions]);const G=()=>{D(!1),r(O),w("basic"),u(!0)},I=t=>{D(!0),w("basic");const i=t.meta||{},a=t.config||{},l=t.pricing||{},n=t.inventory||a.inventory||{},o=t.media||{},c=t.shipping||{},h=!!(a.variants&&a.variants.length>0);let d=a.variantOptions||[],m=a.variants||[];h&&d.length===0&&(d=[{name:"Variation",values:m.map(H=>H.name)}]),r({id:t.id,name:t.name||t.title||i.title||"",category:a.category||t.category||"Hardware Wallet",subcategory:a.subcategory||"",description:i.description||"",images:[o.mainImage||t.image_url||"",...o.gallery||["","","",""]].slice(0,5),video:o.video||"",brand:i.brand||"",model:i.model||"",condition:i.condition||"New",price:l.basePrice||t.price||"",stock:n.stock||t.stock||"",sku:n.sku||"",hasVariants:h,variantOptions:d,variantCombinations:m,length:c.length||n.dimensions?.length||"",height:c.height||n.dimensions?.height||"",marketing:a.marketing||{headline:"",subheadline:"",benefits:[]},techSpecs:a.techSpecs||[],manualLink:a.manualLink||""}),u(!0)},X=async t=>{t.preventDefault(),g(!0);try{const i=s.name.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"");let a=parseFloat(s.price)||0;if((a===0||!s.price)&&s.hasVariants&&s.variantCombinations.length>0){const o=s.variantCombinations.map(c=>parseFloat(c.price)||0).filter(c=>c>0);o.length>0&&(a=Math.min(...o))}const l={category:s.category,meta:{title:s.name,description:s.description,brand:s.brand,model:s.model,condition:s.condition},config:{hasVariants:s.hasVariants,variantOptions:s.hasVariants?s.variantOptions:[],variants:s.hasVariants?s.variantCombinations:[],subcategory:s.subcategory,inventory:{stock:parseInt(s.stock)||0,sku:s.sku||`SKU-${Date.now()}`,weight:parseFloat(s.weight)||0,dimensions:{width:parseFloat(s.width)||0,length:parseFloat(s.length)||0,height:parseFloat(s.height)||0}},marketing:s.marketing,techSpecs:s.techSpecs,manualLink:s.manualLink},media:{mainImage:s.images[0]||"https://placehold.co/400",gallery:s.images.slice(1).filter(o=>o),video:s.video},pricing:{basePrice:a,currency:"THB"}};let n;if(A){const{data:o,error:c}=await x.from("products").update(l).eq("id",s.id).select().single();!c&&o&&j(h=>h.map(d=>d.id===o.id?o:d)),n=c}else{const o=i||`product-${Date.now()}`,{data:c,error:h}=await x.from("products").insert([{...l,id:o}]).select().single();!h&&c&&j(d=>[c,...d]),n=h}if(n)throw console.error("Supabase Error:",n),n;u(!1)}catch(i){console.error("Error saving product:",i),alert("Failed to save product: "+(i.message||JSON.stringify(i)))}finally{g(!1)}},Y=()=>{r(t=>({...t,variantOptions:[...t.variantOptions,{name:"",values:[]}]}))},J=t=>{const i=[...s.variantOptions];i.splice(t,1),r(a=>({...a,variantOptions:i}))},Q=(t,i)=>{const a=[...s.variantOptions];a[t].name=i,r(l=>({...l,variantOptions:a}))},Z=(t,i)=>{if(!i)return;const a=[...s.variantOptions];a[t].values.includes(i)||(a[t].values.push(i),r(l=>({...l,variantOptions:a})),B(a))},ee=(t,i)=>{const a=[...s.variantOptions];a[t].values.splice(i,1),r(l=>({...l,variantOptions:a})),B(a)},B=t=>{if(t.length===0){r(n=>({...n,variantCombinations:[]}));return}const i=t[0],a=t[1];let l=[];a&&a.values.length>0?i.values.forEach(n=>{a.values.forEach(o=>{l.push({name:`${n} - ${o}`,price:s.price||"",stock:s.stock||"",sku:`${s.sku}-${n}-${o}`.toUpperCase(),image:"",weight:s.weight||""})})}):i.values.forEach(n=>{l.push({name:n,price:s.price||"",stock:s.stock||"",sku:`${s.sku}-${n}`.toUpperCase(),image:"",weight:s.weight||""})}),r(n=>({...n,variantCombinations:l}))},f=(t,i,a)=>{const l=[...s.variantCombinations];l[t][i]=a,r(n=>({...n,variantCombinations:l}))},v=t=>t.config?.hasVariants&&t.config?.variants?.length>0?t.config.variants.reduce((i,a)=>i+(parseInt(a.stock)||0),0):parseInt(t.config?.inventory?.stock||t.inventory?.stock||t.stock||0),V=t=>t===0?"text-red-500":t<10?"text-yellow-500":"text-green-500",T=async t=>{if(window.confirm("Are you sure you want to delete this product?"))try{const{error:i}=await x.from("products").delete().eq("id",t);if(i)throw i;j(a=>a.filter(l=>l.id!==t))}catch(i){console.error("Error deleting product:",i),alert("Failed to delete product")}},$=S.filter(t=>{const i=t.name||t.title||t.meta?.title||"",a=t.config?.category||t.category||"";return i.toLowerCase().includes(N.toLowerCase())||a.toLowerCase().includes(N.toLowerCase())}),M=t=>new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB"}).format(t),te=[{id:"basic",label:"Basic Info",icon:"ðŸ“"},{id:"media",label:"Media",icon:"ðŸ–¼ï¸"},{id:"sales",label:"Sales Info",icon:"ðŸ’°"},{id:"marketing",label:"Marketing & Specs",icon:"ðŸ“¢"},{id:"attributes",label:"Attributes",icon:"ðŸ·ï¸"}],k=(t,i)=>{const a=[...s.images];a[t]=i,r({...s,images:a})},L=t=>new Promise(i=>{const a=new FileReader;a.readAsDataURL(t),a.onload=l=>{const n=new Image;n.src=l.target.result,n.onload=()=>{const o=document.createElement("canvas"),c=1200,h=1200;let d=n.width,m=n.height;d>m?d>c&&(m*=c/d,d=c):m>h&&(d*=h/m,m=h),o.width=d,o.height=m,o.getContext("2d").drawImage(n,0,0,d,m),o.toBlob(re=>{const oe=new File([re],t.name,{type:t.type,lastModified:Date.now()});i(oe)},t.type,.7)}}}),U=async(t,i)=>{let a=t.target.files[0];if(a){if(a.size>2*1024*1024)try{a=await L(a)}catch(l){console.error("Resize error:",l),alert("Failed to resize image. Please upload a smaller file.");return}try{g(!0);const l=a.name.split(".").pop(),o=`${`${Date.now()}-${Math.random().toString(36).substr(2,9)}.${l}`}`,{error:c}=await x.storage.from("products").upload(o,a);if(c)throw c;const{data:{publicUrl:h}}=x.storage.from("products").getPublicUrl(o);k(i,h)}catch(l){console.error("Upload Error:",l),alert("Upload failed: "+l.message)}finally{g(!1)}}},ae=async(t,i)=>{let a=t.target.files[0];if(a){if(a.size>2*1024*1024)try{a=await L(a)}catch(l){console.error("Resize error:",l),alert("Failed to resize image.");return}try{g(!0);const l=a.name.split(".").pop(),o=`${`variant-${Date.now()}-${Math.random().toString(36).substr(2,9)}.${l}`}`,{error:c}=await x.storage.from("products").upload(o,a);if(c)throw c;const{data:{publicUrl:h}}=x.storage.from("products").getPublicUrl(o);f(i,"image",h)}catch(l){console.error("Upload Error:",l),alert("Upload failed: "+l.message)}finally{g(!1)}}},z=(t,i)=>{r(a=>({...a,marketing:{...a.marketing,[t]:i}}))},se=()=>{r(t=>({...t,marketing:{...t.marketing,benefits:[...t.marketing.benefits||[],{title:"",desc:"",icon:"gift"}]}}))},C=(t,i,a)=>{const l=[...s.marketing.benefits||[]];l[t][i]=a,r(n=>({...n,marketing:{...n.marketing,benefits:l}}))},ie=t=>{const i=[...s.marketing.benefits||[]];i.splice(t,1),r(a=>({...a,marketing:{...a.marketing,benefits:i}}))},le=()=>{r(t=>({...t,techSpecs:[...t.techSpecs||[],{label:"",value:""}]}))},R=(t,i,a)=>{const l=[...s.techSpecs||[]];l[t][i]=a,r(n=>({...n,techSpecs:l}))},ne=t=>{const i=[...s.techSpecs||[]];i.splice(t,1),r(a=>({...a,techSpecs:i}))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{className:"text-white/50 text-sm mt-1",children:[S.length," Products"]}),e.jsxs("div",{className:"flex w-full md:w-auto gap-3",children:[e.jsxs("div",{className:"flex bg-black/10 backdrop-blur-md rounded border border-white/10 p-1",children:[e.jsx("button",{onClick:()=>P("list"),className:`p-2 rounded ${y==="list"?"bg-white/10 text-white":"text-white/30 hover:text-white"}`,children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),e.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),e.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),e.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),e.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),e.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]})}),e.jsx("button",{onClick:()=>P("grid"),className:`p-2 rounded ${y==="grid"?"bg-white/10 text-white":"text-white/30 hover:text-white"}`,children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),e.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),e.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),e.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})})]}),e.jsx("input",{type:"text",placeholder:"Search...",value:N,onChange:t=>_(t.target.value),className:"bg-black/10 backdrop-blur-md border border-white/10 rounded px-3 py-2 text-sm text-white focus:outline-none focus:border-[#D4AF37] w-full md:w-64"}),e.jsxs("button",{onClick:G,className:"px-4 py-2 bg-[#D4AF37] text-black font-bold rounded text-sm hover:bg-white transition-colors flex items-center gap-2",children:[e.jsx("span",{children:"+"})," Add New"]})]})]}),y==="list"?e.jsx("div",{className:"bg-black/10 backdrop-blur-md border border-white/10 rounded-xl overflow-hidden animate-in fade-in",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left text-sm text-white/70",children:[e.jsx("thead",{className:"bg-white/5 text-white font-bold uppercase text-xs tracking-wider",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4",children:"Product"}),e.jsx("th",{className:"p-4 text-center",children:"Category"}),e.jsx("th",{className:"p-4 text-center",children:"Stock"}),e.jsx("th",{className:"p-4 text-right",children:"Price"}),e.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-white/5",children:$.map(t=>e.jsxs("tr",{className:"hover:bg-white/2 transition-colors",children:[e.jsxs("td",{className:"p-4 flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/5 rounded-lg overflow-hidden border border-white/10 shrink-0",children:e.jsx("img",{src:t.media?.mainImage||t.image_url||"https://placehold.co/100",alt:t.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-bold text-base line-clamp-1",children:t.name||t.title||t.meta?.title}),e.jsxs("div",{className:"text-xs text-white/40 font-mono mt-1",children:["ID: ",t.id.substring(0,8)]})]})]}),e.jsx("td",{className:"p-4 text-center",children:e.jsx("span",{className:"px-2 py-1 rounded text-xs font-bold uppercase bg-white/5 text-white/70 border border-white/10",children:t.config?.category||t.category||"Uncategorized"})}),e.jsx("td",{className:"p-4 text-center",children:e.jsx("div",{className:`font-bold ${V(v(t))}`,children:v(t)})}),e.jsx("td",{className:"p-4 text-right font-bold text-[#D4AF37]",children:M(t.pricing?.basePrice||t.price||0)}),e.jsxs("td",{className:"p-4 text-right",children:[e.jsx("button",{onClick:()=>I(t),className:"text-white/50 hover:text-white px-2 py-1",children:"Edit"}),e.jsx("button",{onClick:()=>T(t.id),className:"text-red-500/50 hover:text-red-500 px-2 py-1",children:"Del"})]})]},t.id))})]})})}):e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4 animate-in fade-in",children:$.map(t=>e.jsxs("div",{className:"bg-black/10 backdrop-blur-md border border-white/10 rounded-xl overflow-hidden hover:border-[#D4AF37] transition-all group relative flex flex-col",children:[e.jsxs("div",{className:"aspect-square bg-white/5 relative overflow-hidden",children:[e.jsx("img",{src:t.media?.mainImage||t.image_url||"https://placehold.co/400",alt:t.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),e.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>I(t),className:"bg-white text-black px-3 py-1.5 rounded-full text-xs font-bold hover:bg-[#D4AF37] transition-colors",children:"Edit"}),e.jsx("button",{onClick:()=>T(t.id),className:"bg-red-500 text-white px-3 py-1.5 rounded-full text-xs font-bold hover:bg-red-600 transition-colors",children:"Del"})]}),e.jsx("span",{className:"absolute top-2 left-2 px-2 py-1 bg-black/50 backdrop-blur-md rounded text-[10px] uppercase font-bold text-white/80 border border-white/10",children:t.config?.category||t.category||"Uncat"})]}),e.jsxs("div",{className:"p-3 flex-1 flex flex-col",children:[e.jsx("h3",{className:"text-white font-bold text-sm line-clamp-2 mb-1 min-h-[2.5rem]",children:t.name||t.title||t.meta?.title}),e.jsxs("div",{className:"mt-auto flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] text-white/40 uppercase font-bold mb-0.5",children:"Price"}),e.jsx("div",{className:"text-[#D4AF37] font-bold text-sm",children:M(t.pricing?.basePrice||t.price||0)})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-[10px] text-white/40 uppercase font-bold mb-0.5",children:"Stock"}),e.jsx("div",{className:`text-xs font-bold ${V(v(t))}`,children:v(t)})]})]})]})]},t.id))}),e.jsx(ce,{children:q&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[e.jsx(K.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>u(!1),className:"fixed inset-0 bg-black/80 backdrop-blur-sm"}),e.jsxs(K.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"bg-[#111] border border-white/10 rounded-xl w-full max-w-5xl h-[90vh] flex flex-col relative z-20 shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-white/10 flex justify-between items-center bg-[#161616]",children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:A?"Edit Product":"Add New Product"}),e.jsx("button",{onClick:()=>u(!1),className:"text-white/50 hover:text-white",children:"âœ•"})]}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsx("div",{className:"w-1/5 bg-[#0A0A0A] border-r border-white/5 overflow-y-auto",children:e.jsx("div",{className:"flex flex-col p-2 gap-1",children:te.map(t=>e.jsxs("button",{onClick:()=>w(t.id),className:`text-left px-4 py-3 rounded-lg text-sm font-medium transition-colors flex items-center gap-3 ${b===t.id?"bg-[#D4AF37]/10 text-[#D4AF37] border border-[#D4AF37]/20":"text-white/50 hover:bg-white/5 hover:text-white"}`,children:[e.jsx("span",{children:t.icon}),t.label]},t.id))})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-8 bg-[#111]",children:e.jsxs("form",{id:"product-form",onSubmit:X,className:"space-y-8 max-w-4xl",children:[b==="basic"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"section-title",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Product Name *"}),e.jsx("input",{required:!0,value:s.name,onChange:t=>r({...s,name:t.target.value}),className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Category *"}),e.jsx("select",{value:s.category,onChange:t=>r({...s,category:t.target.value,subcategory:""}),className:"input-field",children:Object.keys(E).map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Subcategory"}),e.jsxs("select",{value:s.subcategory,onChange:t=>r({...s,subcategory:t.target.value}),className:"input-field",disabled:!s.category,children:[e.jsx("option",{value:"",children:"Select Subcategory"}),s.category&&E[s.category]?.map(t=>e.jsx("option",{value:t,children:t},t))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Description"}),e.jsx("textarea",{rows:"5",value:s.description,onChange:t=>r({...s,description:t.target.value}),className:"input-field resize-none"})]})]}),b==="media"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"section-title",children:"Product Media"}),e.jsxs("div",{className:"hidden",children:[e.jsx("input",{type:"file",id:"cover-upload",accept:"image/*",onChange:t=>U(t,0)}),[1,2,3,4].map(t=>e.jsx("input",{type:"file",id:`gallery-upload-${t}`,accept:"image/*",onChange:i=>U(i,t)},t))]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"w-1/3",children:[e.jsx("label",{className:"input-label",children:"Cover Image"}),e.jsx("div",{onClick:()=>document.getElementById("cover-upload").click(),className:"aspect-square bg-white/5 rounded-lg border border-dashed border-white/20 flex flex-col items-center justify-center overflow-hidden mb-2 cursor-pointer hover:border-[#D4AF37] hover:bg-white/10 transition-colors group",children:s.images[0]?e.jsx("img",{src:s.images[0],className:"w-full h-full object-cover"}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-2xl mb-1",children:"ðŸ“·"}),e.jsx("span",{className:"text-white/30 text-xs font-bold uppercase group-hover:text-white",children:"Upload"})]})}),e.jsx("input",{type:"url",placeholder:"Or paste URL...",value:s.images[0],onChange:t=>k(0,t.target.value),className:"input-field text-xs"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"input-label",children:"Gallery"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:[1,2,3,4].map(t=>e.jsxs("div",{className:"relative",children:[e.jsx("div",{onClick:()=>document.getElementById(`gallery-upload-${t}`).click(),className:"aspect-video bg-white/5 rounded-lg border border-dashed border-white/20 flex items-center justify-center overflow-hidden mb-1 cursor-pointer hover:border-[#D4AF37] hover:bg-white/10 group",children:s.images[t]?e.jsx("img",{src:s.images[t],className:"w-full h-full object-cover"}):e.jsx("span",{className:"text-white/30 text-xl group-hover:text-white",children:"+"})}),e.jsx("input",{type:"url",placeholder:"URL",value:s.images[t]||"",onChange:i=>k(t,i.target.value),className:"input-field text-xs py-1"})]},t))})]})]}),e.jsxs("div",{className:"pt-4 border-t border-white/10",children:[e.jsx("label",{className:"input-label",children:"Product Video (YouTube URL)"}),e.jsx("input",{type:"url",value:s.video,onChange:t=>r({...s,video:t.target.value}),className:"input-field",placeholder:"https://youtube.com/..."})]})]}),b==="sales"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"section-title",children:"Sales Information"}),e.jsxs("div",{className:"flex items-center gap-4 bg-white/5 p-4 rounded-lg border border-white/10 mb-6",children:[e.jsx("label",{className:"text-sm font-bold text-white flex-1",children:"Enable Variations?"}),e.jsx("button",{type:"button",onClick:()=>r({...s,hasVariants:!s.hasVariants}),className:`w-12 h-6 rounded-full transition-colors relative ${s.hasVariants?"bg-[#D4AF37]":"bg-white/20"}`,children:e.jsx("div",{className:`w-4 h-4 rounded-full bg-white absolute top-1 transition-all ${s.hasVariants?"left-7":"left-1"}`})})]}),s.hasVariants?e.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[e.jsxs("div",{className:"space-y-4",children:[s.variantOptions.map((t,i)=>e.jsxs("div",{className:"bg-white/5 p-4 rounded-lg border border-white/10 relative group",children:[e.jsx("button",{type:"button",onClick:()=>J(i),className:"absolute top-2 right-2 text-white/30 hover:text-red-500",children:"Ã—"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"input-label",children:"Variation Name (e.g. Color)"}),e.jsx("input",{type:"text",value:t.name,onChange:a=>Q(i,a.target.value),className:"input-field",placeholder:"Color, Size, etc."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Options (Press Enter)"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.values.map((a,l)=>e.jsxs("span",{className:"px-2 py-1 bg-[#D4AF37]/20 text-[#D4AF37] text-xs rounded border border-[#D4AF37]/30 flex items-center gap-2",children:[a,e.jsx("button",{type:"button",onClick:()=>ee(i,l),className:"hover:text-white",children:"Ã—"})]},l))}),e.jsx("input",{type:"text",placeholder:"Add option...",onKeyDown:a=>{a.key==="Enter"&&(a.preventDefault(),Z(i,a.target.value),a.target.value="")},className:"input-field text-xs"})]})]},i)),s.variantOptions.length<2&&e.jsx("button",{type:"button",onClick:Y,className:"w-full py-2 border border-dashed border-white/20 text-white/50 hover:text-[#D4AF37] hover:border-[#D4AF37] rounded-lg text-sm",children:"+ Add Variation Tier"})]}),s.variantCombinations.length>0&&e.jsx("div",{className:"overflow-x-auto border border-white/10 rounded-lg",children:e.jsxs("table",{className:"w-full text-left text-sm text-white/70",children:[e.jsx("thead",{className:"bg-white/10 font-bold uppercase text-xs",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 w-16 text-center",children:"Image"}),e.jsx("th",{className:"p-3",children:"Variation"}),e.jsx("th",{className:"p-3 w-40",children:"Price"}),e.jsx("th",{className:"p-3 w-32",children:"Stock"}),e.jsx("th",{className:"p-3 w-40",children:"SKU"}),e.jsx("th",{className:"p-3 w-28",children:"Weight"})]})}),e.jsx("tbody",{className:"divide-y divide-white/5",children:s.variantCombinations.map((t,i)=>e.jsxs("tr",{children:[e.jsxs("td",{className:"p-3",children:[e.jsx("input",{type:"file",id:`variant-upload-${i}`,className:"hidden",accept:"image/*",onChange:a=>ae(a,i)}),e.jsxs("div",{onClick:()=>document.getElementById(`variant-upload-${i}`).click(),className:"w-10 h-10 bg-white/5 rounded border border-white/20 flex items-center justify-center cursor-pointer hover:border-[#D4AF37] overflow-hidden relative group",children:[t.image?e.jsx("img",{src:t.image,className:"w-full h-full object-cover"}):e.jsx("span",{className:"text-white/30 text-xs",children:"+"}),t.image&&e.jsx("button",{onClick:a=>{a.stopPropagation(),f(i,"image","")},className:"absolute inset-0 bg-black/60 text-white text-[10px] opacity-0 group-hover:opacity-100 flex items-center justify-center font-bold",children:"DEL"})]})]}),e.jsx("td",{className:"p-3 text-white",children:t.name}),e.jsx("td",{className:"p-3",children:e.jsx("input",{type:"number",value:t.price,onChange:a=>f(i,"price",a.target.value),className:"input-field py-1"})}),e.jsx("td",{className:"p-3",children:e.jsx("input",{type:"number",value:t.stock,onChange:a=>f(i,"stock",a.target.value),className:"input-field py-1"})}),e.jsx("td",{className:"p-3",children:e.jsx("input",{type:"text",value:t.sku,onChange:a=>f(i,"sku",a.target.value),className:"input-field py-1"})}),e.jsx("td",{className:"p-3",children:e.jsx("input",{type:"number",placeholder:"kg",value:t.weight,onChange:a=>f(i,"weight",a.target.value),className:"input-field py-1"})})]},i))})]})})]}):e.jsxs("div",{className:"grid grid-cols-3 gap-6 animate-in fade-in",children:[e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Price"}),e.jsx("input",{type:"number",value:s.price,onChange:t=>r({...s,price:t.target.value}),className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Stock"}),e.jsx("input",{type:"number",value:s.stock,onChange:t=>r({...s,stock:t.target.value}),className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"SKU"}),e.jsx("input",{type:"text",value:s.sku,onChange:t=>r({...s,sku:t.target.value}),className:"input-field"})]})]})]}),b==="marketing"&&e.jsxs("div",{className:"space-y-8 animate-in fade-in",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"section-title",children:"Marketing Copy"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Headline"}),e.jsx("input",{value:s.marketing?.headline||"",onChange:t=>z("headline",t.target.value),className:"input-field",placeholder:"e.g. Why Basic?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Subheadline"}),e.jsx("input",{value:s.marketing?.subheadline||"",onChange:t=>z("subheadline",t.target.value),className:"input-field",placeholder:"e.g. à¸ˆà¸¸à¸”à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™à¸‚à¸­à¸‡à¸à¸²à¸£à¹€à¸›à¹‡à¸™ Bitcoiner"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center border-b border-white/10 pb-2",children:[e.jsx("h3",{className:"section-title mb-0 border-0 pb-0",children:"Key Benefits"}),e.jsx("button",{type:"button",onClick:se,className:"text-[#D4AF37] text-xs font-bold hover:underline",children:"+ Add Benefit"})]}),e.jsxs("div",{className:"space-y-4",children:[(s.marketing?.benefits||[]).map((t,i)=>e.jsxs("div",{className:"bg-white/5 p-4 rounded-lg border border-white/10 relative group",children:[e.jsx("button",{type:"button",onClick:()=>ie(i),className:"absolute top-2 right-2 text-white/30 hover:text-red-500",children:"Ã—"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Title"}),e.jsx("input",{value:t.title,onChange:a=>C(i,"title",a.target.value),className:"input-field",placeholder:"e.g. Minimal Design"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Icon (Phosphor/FontAwesome name)"}),e.jsx("input",{value:t.icon,onChange:a=>C(i,"icon",a.target.value),className:"input-field",placeholder:"e.g. gift, chart, shop"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"input-label",children:"Description"}),e.jsx("textarea",{rows:"2",value:t.desc,onChange:a=>C(i,"desc",a.target.value),className:"input-field resize-none",placeholder:"Benefit description..."})]})]})]},i)),(s.marketing?.benefits||[]).length===0&&e.jsx("div",{className:"text-center py-8 text-white/30 text-sm border border-dashed border-white/10 rounded-lg",children:"No benefits added."})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center border-b border-white/10 pb-2",children:[e.jsx("h3",{className:"section-title mb-0 border-0 pb-0",children:"Tech Specs"}),e.jsx("button",{type:"button",onClick:le,className:"text-[#D4AF37] text-xs font-bold hover:underline",children:"+ Add Spec"})]}),e.jsxs("div",{className:"space-y-2",children:[(s.techSpecs||[]).map((t,i)=>e.jsxs("div",{className:"flex gap-2 items-start",children:[e.jsx("div",{className:"w-1/3",children:e.jsx("input",{value:t.label,onChange:a=>R(i,"label",a.target.value),className:"input-field",placeholder:"Label (e.g. CPU)"})}),e.jsx("div",{className:"flex-1",children:e.jsx("input",{value:t.value,onChange:a=>R(i,"value",a.target.value),className:"input-field",placeholder:"Value (e.g. Dual-core...)"})}),e.jsx("button",{type:"button",onClick:()=>ne(i),className:"p-2 text-white/30 hover:text-red-500",children:"Ã—"})]},i)),(s.techSpecs||[]).length===0&&e.jsx("div",{className:"text-center py-8 text-white/30 text-sm border border-dashed border-white/10 rounded-lg",children:"No specs added."})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-white/10",children:[e.jsx("h3",{className:"section-title",children:"Documentation"}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Manual Link (Path)"}),e.jsx("input",{value:s.manualLink,onChange:t=>r({...s,manualLink:t.target.value}),className:"input-field",placeholder:"/knowledge/product-id"})]})]})]}),b==="attributes"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"section-title",children:"Attributes"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Brand"}),e.jsx("input",{value:s.brand,onChange:t=>r({...s,brand:t.target.value}),className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Model"}),e.jsx("input",{value:s.model,onChange:t=>r({...s,model:t.target.value}),className:"input-field"})]})]})]})]})})]}),e.jsxs("div",{className:"p-4 border-t border-white/10 bg-[#161616] flex justify-end gap-3 shrink-0",children:[e.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-6 py-2 text-white/70 hover:text-white text-sm font-bold",children:"Cancel"}),e.jsx("button",{onClick:t=>document.getElementById("product-form").requestSubmit(),disabled:F,className:"px-8 py-2 bg-[#D4AF37] text-black rounded text-sm font-bold hover:bg-white",children:F?"Saving...":"Save & Publish"})]})]})]})}),e.jsx("style",{children:`
                .section-title { font-size: 1.125rem; font-weight: 800; color: white; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 0.5rem; margin-bottom: 1rem; }
                .input-label { display: block; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; color: rgba(255, 255, 255, 0.5); margin-bottom: 0.5rem; }
                .input-field { width: 100%; background-color: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 0.5rem; padding: 0.625rem 0.875rem; color: white; transition: all 0.2s; font-size: 0.875rem; }
                .input-field:focus { border-color: #D4AF37; outline: none; background-color: rgba(255, 255, 255, 0.08); }
            `})]})};export{ge as default};
