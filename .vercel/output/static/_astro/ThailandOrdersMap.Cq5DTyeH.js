import{j as D}from"./jsx-runtime.D_zvdyIk.js";import{r as tt}from"./index.WFquGv8Z.js";import{A as Bi}from"./index.CojmwtN0.js";import{m as Yi}from"./proxy.Bc5WEKy4.js";class xt{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const o=e[r],u=n+o,a=Math.abs(n)<Math.abs(o)?n-(u-o):o-(u-n);a&&(e[i++]=a),n=u}return e[i]=n,this._n=i+1,this}valueOf(){const n=this._partials;let e=this._n,i,r,o,u=0;if(e>0){for(u=n[--e];e>0&&(i=u,r=n[--e],u=i+r,o=r-(u-i),!o););e>0&&(o<0&&n[e-1]<0||o>0&&n[e-1]>0)&&(r=o*2,i=u+r,r==i-u&&(u=i))}return u}}function*Vi(t){for(const n of t)yield*n}function je(t){return Array.from(Vi(t))}var Gi={value:()=>{}};function ue(){for(var t=0,n=arguments.length,e={},i;t<n;++t){if(!(i=arguments[t]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new un(e)}function un(t){this._=t}function Ui(t,n){return t.trim().split(/^|\s+/).map(function(e){var i="",r=e.indexOf(".");if(r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}un.prototype=ue.prototype={constructor:un,on:function(t,n){var e=this._,i=Ui(t+"",e),r,o=-1,u=i.length;if(arguments.length<2){for(;++o<u;)if((r=(t=i[o]).type)&&(r=Wi(e[r],t.name)))return r;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<u;)if(r=(t=i[o]).type)e[r]=ve(e[r],t.name,n);else if(n==null)for(r in e)e[r]=ve(e[r],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new un(t)},call:function(t,n){if((r=arguments.length-2)>0)for(var e=new Array(r),i=0,r,o;i<r;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(n,e)}};function Wi(t,n){for(var e=0,i=t.length,r;e<i;++e)if((r=t[e]).name===n)return r.value}function ve(t,n,e){for(var i=0,r=t.length;i<r;++i)if(t[i].name===n){t[i]=Gi,t=t.slice(0,i).concat(t.slice(i+1));break}return e!=null&&t.push({name:n,value:e}),t}var In="http://www.w3.org/1999/xhtml";const me={svg:"http://www.w3.org/2000/svg",xhtml:In,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Nn(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),me.hasOwnProperty(n)?{space:me[n],local:t}:t}function Ki(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===In&&n.documentElement.namespaceURI===In?n.createElement(t):n.createElementNS(e,t)}}function Zi(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ti(t){var n=Nn(t);return(n.local?Zi:Ki)(n)}function Qi(){}function ae(t){return t==null?Qi:function(){return this.querySelector(t)}}function Ji(t){typeof t!="function"&&(t=ae(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o=n[r],u=o.length,a=i[r]=new Array(u),c,l,s=0;s<u;++s)(c=o[s])&&(l=t.call(c,c.__data__,s,o))&&("__data__"in c&&(l.__data__=c.__data__),a[s]=l);return new J(i,this._parents)}function ji(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function tr(){return[]}function ni(t){return t==null?tr:function(){return this.querySelectorAll(t)}}function nr(t){return function(){return ji(t.apply(this,arguments))}}function er(t){typeof t=="function"?t=nr(t):t=ni(t);for(var n=this._groups,e=n.length,i=[],r=[],o=0;o<e;++o)for(var u=n[o],a=u.length,c,l=0;l<a;++l)(c=u[l])&&(i.push(t.call(c,c.__data__,l,u)),r.push(c));return new J(i,r)}function ei(t){return function(){return this.matches(t)}}function ii(t){return function(n){return n.matches(t)}}var ir=Array.prototype.find;function rr(t){return function(){return ir.call(this.children,t)}}function or(){return this.firstElementChild}function ur(t){return this.select(t==null?or:rr(typeof t=="function"?t:ii(t)))}var ar=Array.prototype.filter;function sr(){return Array.from(this.children)}function lr(t){return function(){return ar.call(this.children,t)}}function cr(t){return this.selectAll(t==null?sr:lr(typeof t=="function"?t:ii(t)))}function fr(t){typeof t!="function"&&(t=ei(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o=n[r],u=o.length,a=i[r]=[],c,l=0;l<u;++l)(c=o[l])&&t.call(c,c.__data__,l,o)&&a.push(c);return new J(i,this._parents)}function ri(t){return new Array(t.length)}function hr(){return new J(this._enter||this._groups.map(ri),this._parents)}function fn(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}fn.prototype={constructor:fn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function pr(t){return function(){return t}}function dr(t,n,e,i,r,o){for(var u=0,a,c=n.length,l=o.length;u<l;++u)(a=n[u])?(a.__data__=o[u],i[u]=a):e[u]=new fn(t,o[u]);for(;u<c;++u)(a=n[u])&&(r[u]=a)}function gr(t,n,e,i,r,o,u){var a,c,l=new Map,s=n.length,f=o.length,h=new Array(s),g;for(a=0;a<s;++a)(c=n[a])&&(h[a]=g=u.call(c,c.__data__,a,n)+"",l.has(g)?r[a]=c:l.set(g,c));for(a=0;a<f;++a)g=u.call(t,o[a],a,o)+"",(c=l.get(g))?(i[a]=c,c.__data__=o[a],l.delete(g)):e[a]=new fn(t,o[a]);for(a=0;a<s;++a)(c=n[a])&&l.get(h[a])===c&&(r[a]=c)}function vr(t){return t.__data__}function mr(t,n){if(!arguments.length)return Array.from(this,vr);var e=n?gr:dr,i=this._parents,r=this._groups;typeof t!="function"&&(t=pr(t));for(var o=r.length,u=new Array(o),a=new Array(o),c=new Array(o),l=0;l<o;++l){var s=i[l],f=r[l],h=f.length,g=_r(t.call(s,s&&s.__data__,l,i)),_=g.length,b=a[l]=new Array(_),x=u[l]=new Array(_),m=c[l]=new Array(h);e(s,f,b,x,m,g,n);for(var y=0,w=0,S,N;y<_;++y)if(S=b[y]){for(y>=w&&(w=y+1);!(N=x[w])&&++w<_;);S._next=N||null}}return u=new J(u,i),u._enter=a,u._exit=c,u}function _r(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function yr(){return new J(this._exit||this._groups.map(ri),this._parents)}function wr(t,n,e){var i=this.enter(),r=this,o=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),n!=null&&(r=n(r),r&&(r=r.selection())),e==null?o.remove():e(o),i&&r?i.merge(r).order():r}function xr(t){for(var n=t.selection?t.selection():t,e=this._groups,i=n._groups,r=e.length,o=i.length,u=Math.min(r,o),a=new Array(r),c=0;c<u;++c)for(var l=e[c],s=i[c],f=l.length,h=a[c]=new Array(f),g,_=0;_<f;++_)(g=l[_]||s[_])&&(h[_]=g);for(;c<r;++c)a[c]=e[c];return new J(a,this._parents)}function Sr(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var i=t[n],r=i.length-1,o=i[r],u;--r>=0;)(u=i[r])&&(o&&u.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(u,o),o=u);return this}function Er(t){t||(t=br);function n(f,h){return f&&h?t(f.__data__,h.__data__):!f-!h}for(var e=this._groups,i=e.length,r=new Array(i),o=0;o<i;++o){for(var u=e[o],a=u.length,c=r[o]=new Array(a),l,s=0;s<a;++s)(l=u[s])&&(c[s]=l);c.sort(n)}return new J(r,this._parents).order()}function br(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Nr(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Mr(){return Array.from(this)}function $r(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],r=0,o=i.length;r<o;++r){var u=i[r];if(u)return u}return null}function Ar(){let t=0;for(const n of this)++t;return t}function kr(){return!this.node()}function Rr(t){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var r=n[e],o=0,u=r.length,a;o<u;++o)(a=r[o])&&t.call(a,a.__data__,o,r);return this}function zr(t){return function(){this.removeAttribute(t)}}function Tr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Pr(t,n){return function(){this.setAttribute(t,n)}}function Cr(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Dr(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function Ir(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Fr(t,n){var e=Nn(t);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((n==null?e.local?Tr:zr:typeof n=="function"?e.local?Ir:Dr:e.local?Cr:Pr)(e,n))}function oi(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Lr(t){return function(){this.style.removeProperty(t)}}function Or(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Xr(t,n,e){return function(){var i=n.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,e)}}function qr(t,n,e){return arguments.length>1?this.each((n==null?Lr:typeof n=="function"?Xr:Or)(t,n,e??"")):At(this.node(),t)}function At(t,n){return t.style.getPropertyValue(n)||oi(t).getComputedStyle(t,null).getPropertyValue(n)}function Hr(t){return function(){delete this[t]}}function Br(t,n){return function(){this[t]=n}}function Yr(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function Vr(t,n){return arguments.length>1?this.each((n==null?Hr:typeof n=="function"?Yr:Br)(t,n)):this.node()[t]}function ui(t){return t.trim().split(/^|\s+/)}function se(t){return t.classList||new ai(t)}function ai(t){this._node=t,this._names=ui(t.getAttribute("class")||"")}ai.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function si(t,n){for(var e=se(t),i=-1,r=n.length;++i<r;)e.add(n[i])}function li(t,n){for(var e=se(t),i=-1,r=n.length;++i<r;)e.remove(n[i])}function Gr(t){return function(){si(this,t)}}function Ur(t){return function(){li(this,t)}}function Wr(t,n){return function(){(n.apply(this,arguments)?si:li)(this,t)}}function Kr(t,n){var e=ui(t+"");if(arguments.length<2){for(var i=se(this.node()),r=-1,o=e.length;++r<o;)if(!i.contains(e[r]))return!1;return!0}return this.each((typeof n=="function"?Wr:n?Gr:Ur)(e,n))}function Zr(){this.textContent=""}function Qr(t){return function(){this.textContent=t}}function Jr(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function jr(t){return arguments.length?this.each(t==null?Zr:(typeof t=="function"?Jr:Qr)(t)):this.node().textContent}function to(){this.innerHTML=""}function no(t){return function(){this.innerHTML=t}}function eo(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function io(t){return arguments.length?this.each(t==null?to:(typeof t=="function"?eo:no)(t)):this.node().innerHTML}function ro(){this.nextSibling&&this.parentNode.appendChild(this)}function oo(){return this.each(ro)}function uo(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ao(){return this.each(uo)}function so(t){var n=typeof t=="function"?t:ti(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function lo(){return null}function co(t,n){var e=typeof t=="function"?t:ti(t),i=n==null?lo:typeof n=="function"?n:ae(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})}function fo(){var t=this.parentNode;t&&t.removeChild(this)}function ho(){return this.each(fo)}function po(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function go(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function vo(t){return this.select(t?go:po)}function mo(t){return arguments.length?this.property("__data__",t):this.node().__data__}function _o(t){return function(n){t.call(this,n,this.__data__)}}function yo(t){return t.trim().split(/^|\s+/).map(function(n){var e="",i=n.indexOf(".");return i>=0&&(e=n.slice(i+1),n=n.slice(0,i)),{type:n,name:e}})}function wo(t){return function(){var n=this.__on;if(n){for(var e=0,i=-1,r=n.length,o;e<r;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++i]=o;++i?n.length=i:delete this.__on}}}function xo(t,n,e){return function(){var i=this.__on,r,o=_o(n);if(i){for(var u=0,a=i.length;u<a;++u)if((r=i[u]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),r.value=n;return}}this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function So(t,n,e){var i=yo(t+""),r,o=i.length,u;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,l=a.length,s;c<l;++c)for(r=0,s=a[c];r<o;++r)if((u=i[r]).type===s.type&&u.name===s.name)return s.value}return}for(a=n?xo:wo,r=0;r<o;++r)this.each(a(i[r],n,e));return this}function ci(t,n,e){var i=oi(t),r=i.CustomEvent;typeof r=="function"?r=new r(n,e):(r=i.document.createEvent("Event"),e?(r.initEvent(n,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(n,!1,!1)),t.dispatchEvent(r)}function Eo(t,n){return function(){return ci(this,t,n)}}function bo(t,n){return function(){return ci(this,t,n.apply(this,arguments))}}function No(t,n){return this.each((typeof n=="function"?bo:Eo)(t,n))}function*Mo(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],r=0,o=i.length,u;r<o;++r)(u=i[r])&&(yield u)}var fi=[null];function J(t,n){this._groups=t,this._parents=n}function Kt(){return new J([[document.documentElement]],fi)}function $o(){return this}J.prototype=Kt.prototype={constructor:J,select:Ji,selectAll:er,selectChild:ur,selectChildren:cr,filter:fr,data:mr,enter:hr,exit:yr,join:wr,merge:xr,selection:$o,order:Sr,sort:Er,call:Nr,nodes:Mr,node:$r,size:Ar,empty:kr,each:Rr,attr:Fr,style:qr,property:Vr,classed:Kr,text:jr,html:io,raise:oo,lower:ao,append:so,insert:co,remove:ho,clone:vo,datum:mo,on:So,dispatch:No,[Symbol.iterator]:Mo};function pt(t){return typeof t=="string"?new J([[document.querySelector(t)]],[document.documentElement]):new J([[t]],fi)}function Ao(t){let n;for(;n=t.sourceEvent;)t=n;return t}function _t(t,n){if(t=Ao(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var i=e.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(n.getScreenCTM().inverse()),[i.x,i.y]}if(n.getBoundingClientRect){var r=n.getBoundingClientRect();return[t.clientX-r.left-n.clientLeft,t.clientY-r.top-n.clientTop]}}return[t.pageX,t.pageY]}const Fn={capture:!0,passive:!1};function Ln(t){t.preventDefault(),t.stopImmediatePropagation()}function ko(t){var n=t.document.documentElement,e=pt(t).on("dragstart.drag",Ln,Fn);"onselectstart"in n?e.on("selectstart.drag",Ln,Fn):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Ro(t,n){var e=t.document.documentElement,i=pt(t).on("dragstart.drag",null);n&&(i.on("click.drag",Ln,Fn),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in e?i.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function le(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function hi(t,n){var e=Object.create(t.prototype);for(var i in n)e[i]=n[i];return e}function Zt(){}var qt=.7,hn=1/qt,$t="\\s*([+-]?\\d+)\\s*",Ht="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",st="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zo=/^#([0-9a-f]{3,8})$/,To=new RegExp(`^rgb\\(${$t},${$t},${$t}\\)$`),Po=new RegExp(`^rgb\\(${st},${st},${st}\\)$`),Co=new RegExp(`^rgba\\(${$t},${$t},${$t},${Ht}\\)$`),Do=new RegExp(`^rgba\\(${st},${st},${st},${Ht}\\)$`),Io=new RegExp(`^hsl\\(${Ht},${st},${st}\\)$`),Fo=new RegExp(`^hsla\\(${Ht},${st},${st},${Ht}\\)$`),_e={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};le(Zt,Bt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ye,formatHex:ye,formatHex8:Lo,formatHsl:Oo,formatRgb:we,toString:we});function ye(){return this.rgb().formatHex()}function Lo(){return this.rgb().formatHex8()}function Oo(){return pi(this).formatHsl()}function we(){return this.rgb().formatRgb()}function Bt(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=zo.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?xe(n):e===3?new K(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?Qt(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?Qt(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=To.exec(t))?new K(n[1],n[2],n[3],1):(n=Po.exec(t))?new K(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Co.exec(t))?Qt(n[1],n[2],n[3],n[4]):(n=Do.exec(t))?Qt(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=Io.exec(t))?be(n[1],n[2]/100,n[3]/100,1):(n=Fo.exec(t))?be(n[1],n[2]/100,n[3]/100,n[4]):_e.hasOwnProperty(t)?xe(_e[t]):t==="transparent"?new K(NaN,NaN,NaN,0):null}function xe(t){return new K(t>>16&255,t>>8&255,t&255,1)}function Qt(t,n,e,i){return i<=0&&(t=n=e=NaN),new K(t,n,e,i)}function Xo(t){return t instanceof Zt||(t=Bt(t)),t?(t=t.rgb(),new K(t.r,t.g,t.b,t.opacity)):new K}function On(t,n,e,i){return arguments.length===1?Xo(t):new K(t,n,e,i??1)}function K(t,n,e,i){this.r=+t,this.g=+n,this.b=+e,this.opacity=+i}le(K,On,hi(Zt,{brighter(t){return t=t==null?hn:Math.pow(hn,t),new K(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?qt:Math.pow(qt,t),new K(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new K(wt(this.r),wt(this.g),wt(this.b),pn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Se,formatHex:Se,formatHex8:qo,formatRgb:Ee,toString:Ee}));function Se(){return`#${yt(this.r)}${yt(this.g)}${yt(this.b)}`}function qo(){return`#${yt(this.r)}${yt(this.g)}${yt(this.b)}${yt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ee(){const t=pn(this.opacity);return`${t===1?"rgb(":"rgba("}${wt(this.r)}, ${wt(this.g)}, ${wt(this.b)}${t===1?")":`, ${t})`}`}function pn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function wt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function yt(t){return t=wt(t),(t<16?"0":"")+t.toString(16)}function be(t,n,e,i){return i<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new rt(t,n,e,i)}function pi(t){if(t instanceof rt)return new rt(t.h,t.s,t.l,t.opacity);if(t instanceof Zt||(t=Bt(t)),!t)return new rt;if(t instanceof rt)return t;t=t.rgb();var n=t.r/255,e=t.g/255,i=t.b/255,r=Math.min(n,e,i),o=Math.max(n,e,i),u=NaN,a=o-r,c=(o+r)/2;return a?(n===o?u=(e-i)/a+(e<i)*6:e===o?u=(i-n)/a+2:u=(n-e)/a+4,a/=c<.5?o+r:2-o-r,u*=60):a=c>0&&c<1?0:u,new rt(u,a,c,t.opacity)}function Ho(t,n,e,i){return arguments.length===1?pi(t):new rt(t,n,e,i??1)}function rt(t,n,e,i){this.h=+t,this.s=+n,this.l=+e,this.opacity=+i}le(rt,Ho,hi(Zt,{brighter(t){return t=t==null?hn:Math.pow(hn,t),new rt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?qt:Math.pow(qt,t),new rt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*n,r=2*e-i;return new K(kn(t>=240?t-240:t+120,r,i),kn(t,r,i),kn(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new rt(Ne(this.h),Jt(this.s),Jt(this.l),pn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=pn(this.opacity);return`${t===1?"hsl(":"hsla("}${Ne(this.h)}, ${Jt(this.s)*100}%, ${Jt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ne(t){return t=(t||0)%360,t<0?t+360:t}function Jt(t){return Math.max(0,Math.min(1,t||0))}function kn(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const di=t=>()=>t;function Bo(t,n){return function(e){return t+e*n}}function Yo(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(i){return Math.pow(t+i*n,e)}}function Vo(t){return(t=+t)==1?gi:function(n,e){return e-n?Yo(n,e,t):di(isNaN(n)?e:n)}}function gi(t,n){var e=n-t;return e?Bo(t,e):di(isNaN(t)?n:t)}const Me=(function t(n){var e=Vo(n);function i(r,o){var u=e((r=On(r)).r,(o=On(o)).r),a=e(r.g,o.g),c=e(r.b,o.b),l=gi(r.opacity,o.opacity);return function(s){return r.r=u(s),r.g=a(s),r.b=c(s),r.opacity=l(s),r+""}}return i.gamma=t,i})(1);function mt(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}var Xn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rn=new RegExp(Xn.source,"g");function Go(t){return function(){return t}}function Uo(t){return function(n){return t(n)+""}}function Wo(t,n){var e=Xn.lastIndex=Rn.lastIndex=0,i,r,o,u=-1,a=[],c=[];for(t=t+"",n=n+"";(i=Xn.exec(t))&&(r=Rn.exec(n));)(o=r.index)>e&&(o=n.slice(e,o),a[u]?a[u]+=o:a[++u]=o),(i=i[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,c.push({i:u,x:mt(i,r)})),e=Rn.lastIndex;return e<n.length&&(o=n.slice(e),a[u]?a[u]+=o:a[++u]=o),a.length<2?c[0]?Uo(c[0].x):Go(n):(n=c.length,function(l){for(var s=0,f;s<n;++s)a[(f=c[s]).i]=f.x(l);return a.join("")})}var $e=180/Math.PI,qn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function vi(t,n,e,i,r,o){var u,a,c;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(c=t*e+n*i)&&(e-=t*c,i-=n*c),(a=Math.sqrt(e*e+i*i))&&(e/=a,i/=a,c/=a),t*i<n*e&&(t=-t,n=-n,c=-c,u=-u),{translateX:r,translateY:o,rotate:Math.atan2(n,t)*$e,skewX:Math.atan(c)*$e,scaleX:u,scaleY:a}}var jt;function Ko(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?qn:vi(n.a,n.b,n.c,n.d,n.e,n.f)}function Zo(t){return t==null||(jt||(jt=document.createElementNS("http://www.w3.org/2000/svg","g")),jt.setAttribute("transform",t),!(t=jt.transform.baseVal.consolidate()))?qn:(t=t.matrix,vi(t.a,t.b,t.c,t.d,t.e,t.f))}function mi(t,n,e,i){function r(l){return l.length?l.pop()+" ":""}function o(l,s,f,h,g,_){if(l!==f||s!==h){var b=g.push("translate(",null,n,null,e);_.push({i:b-4,x:mt(l,f)},{i:b-2,x:mt(s,h)})}else(f||h)&&g.push("translate("+f+n+h+e)}function u(l,s,f,h){l!==s?(l-s>180?s+=360:s-l>180&&(l+=360),h.push({i:f.push(r(f)+"rotate(",null,i)-2,x:mt(l,s)})):s&&f.push(r(f)+"rotate("+s+i)}function a(l,s,f,h){l!==s?h.push({i:f.push(r(f)+"skewX(",null,i)-2,x:mt(l,s)}):s&&f.push(r(f)+"skewX("+s+i)}function c(l,s,f,h,g,_){if(l!==f||s!==h){var b=g.push(r(g)+"scale(",null,",",null,")");_.push({i:b-4,x:mt(l,f)},{i:b-2,x:mt(s,h)})}else(f!==1||h!==1)&&g.push(r(g)+"scale("+f+","+h+")")}return function(l,s){var f=[],h=[];return l=t(l),s=t(s),o(l.translateX,l.translateY,s.translateX,s.translateY,f,h),u(l.rotate,s.rotate,f,h),a(l.skewX,s.skewX,f,h),c(l.scaleX,l.scaleY,s.scaleX,s.scaleY,f,h),l=s=null,function(g){for(var _=-1,b=h.length,x;++_<b;)f[(x=h[_]).i]=x.x(g);return f.join("")}}}var Qo=mi(Ko,"px, ","px)","deg)"),Jo=mi(Zo,", ",")",")"),jo=1e-12;function Ae(t){return((t=Math.exp(t))+1/t)/2}function tu(t){return((t=Math.exp(t))-1/t)/2}function nu(t){return((t=Math.exp(2*t))-1)/(t+1)}const eu=(function t(n,e,i){function r(o,u){var a=o[0],c=o[1],l=o[2],s=u[0],f=u[1],h=u[2],g=s-a,_=f-c,b=g*g+_*_,x,m;if(b<jo)m=Math.log(h/l)/n,x=function(R){return[a+R*g,c+R*_,l*Math.exp(n*R*m)]};else{var y=Math.sqrt(b),w=(h*h-l*l+i*b)/(2*l*e*y),S=(h*h-l*l-i*b)/(2*h*e*y),N=Math.log(Math.sqrt(w*w+1)-w),$=Math.log(Math.sqrt(S*S+1)-S);m=($-N)/n,x=function(R){var z=R*m,P=Ae(N),F=l/(e*y)*(P*nu(n*z+N)-tu(N));return[a+F*g,c+F*_,l*P/Ae(n*z+N)]}}return x.duration=m*1e3*n/Math.SQRT2,x}return r.rho=function(o){var u=Math.max(.001,+o),a=u*u,c=a*a;return t(u,a,c)},r})(Math.SQRT2,2,4);var kt=0,Ct=0,Tt=0,_i=1e3,dn,Dt,gn=0,St=0,Mn=0,Yt=typeof performance=="object"&&performance.now?performance:Date,yi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ce(){return St||(yi(iu),St=Yt.now()+Mn)}function iu(){St=0}function vn(){this._call=this._time=this._next=null}vn.prototype=wi.prototype={constructor:vn,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?ce():+e)+(n==null?0:+n),!this._next&&Dt!==this&&(Dt?Dt._next=this:dn=this,Dt=this),this._call=t,this._time=e,Hn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Hn())}};function wi(t,n,e){var i=new vn;return i.restart(t,n,e),i}function ru(){ce(),++kt;for(var t=dn,n;t;)(n=St-t._time)>=0&&t._call.call(void 0,n),t=t._next;--kt}function ke(){St=(gn=Yt.now())+Mn,kt=Ct=0;try{ru()}finally{kt=0,uu(),St=0}}function ou(){var t=Yt.now(),n=t-gn;n>_i&&(Mn-=n,gn=t)}function uu(){for(var t,n=dn,e,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:dn=e);Dt=t,Hn(i)}function Hn(t){if(!kt){Ct&&(Ct=clearTimeout(Ct));var n=t-St;n>24?(t<1/0&&(Ct=setTimeout(ke,t-Yt.now()-Mn)),Tt&&(Tt=clearInterval(Tt))):(Tt||(gn=Yt.now(),Tt=setInterval(ou,_i)),kt=1,yi(ke))}}function Re(t,n,e){var i=new vn;return n=n==null?0:+n,i.restart(r=>{i.stop(),t(r+n)},n,e),i}var au=ue("start","end","cancel","interrupt"),su=[],xi=0,ze=1,Bn=2,an=3,Te=4,Yn=5,sn=6;function $n(t,n,e,i,r,o){var u=t.__transition;if(!u)t.__transition={};else if(e in u)return;lu(t,e,{name:n,index:i,group:r,on:au,tween:su,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:xi})}function fe(t,n){var e=ot(t,n);if(e.state>xi)throw new Error("too late; already scheduled");return e}function lt(t,n){var e=ot(t,n);if(e.state>an)throw new Error("too late; already running");return e}function ot(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function lu(t,n,e){var i=t.__transition,r;i[n]=e,e.timer=wi(o,0,e.time);function o(l){e.state=ze,e.timer.restart(u,e.delay,e.time),e.delay<=l&&u(l-e.delay)}function u(l){var s,f,h,g;if(e.state!==ze)return c();for(s in i)if(g=i[s],g.name===e.name){if(g.state===an)return Re(u);g.state===Te?(g.state=sn,g.timer.stop(),g.on.call("interrupt",t,t.__data__,g.index,g.group),delete i[s]):+s<n&&(g.state=sn,g.timer.stop(),g.on.call("cancel",t,t.__data__,g.index,g.group),delete i[s])}if(Re(function(){e.state===an&&(e.state=Te,e.timer.restart(a,e.delay,e.time),a(l))}),e.state=Bn,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Bn){for(e.state=an,r=new Array(h=e.tween.length),s=0,f=-1;s<h;++s)(g=e.tween[s].value.call(t,t.__data__,e.index,e.group))&&(r[++f]=g);r.length=f+1}}function a(l){for(var s=l<e.duration?e.ease.call(null,l/e.duration):(e.timer.restart(c),e.state=Yn,1),f=-1,h=r.length;++f<h;)r[f].call(t,s);e.state===Yn&&(e.on.call("end",t,t.__data__,e.index,e.group),c())}function c(){e.state=sn,e.timer.stop(),delete i[n];for(var l in i)return;delete t.__transition}}function ln(t,n){var e=t.__transition,i,r,o=!0,u;if(e){n=n==null?null:n+"";for(u in e){if((i=e[u]).name!==n){o=!1;continue}r=i.state>Bn&&i.state<Yn,i.state=sn,i.timer.stop(),i.on.call(r?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete e[u]}o&&delete t.__transition}}function cu(t){return this.each(function(){ln(this,t)})}function fu(t,n){var e,i;return function(){var r=lt(this,t),o=r.tween;if(o!==e){i=e=o;for(var u=0,a=i.length;u<a;++u)if(i[u].name===n){i=i.slice(),i.splice(u,1);break}}r.tween=i}}function hu(t,n,e){var i,r;if(typeof e!="function")throw new Error;return function(){var o=lt(this,t),u=o.tween;if(u!==i){r=(i=u).slice();for(var a={name:n,value:e},c=0,l=r.length;c<l;++c)if(r[c].name===n){r[c]=a;break}c===l&&r.push(a)}o.tween=r}}function pu(t,n){var e=this._id;if(t+="",arguments.length<2){for(var i=ot(this.node(),e).tween,r=0,o=i.length,u;r<o;++r)if((u=i[r]).name===t)return u.value;return null}return this.each((n==null?fu:hu)(e,t,n))}function he(t,n,e){var i=t._id;return t.each(function(){var r=lt(this,i);(r.value||(r.value={}))[n]=e.apply(this,arguments)}),function(r){return ot(r,i).value[n]}}function Si(t,n){var e;return(typeof n=="number"?mt:n instanceof Bt?Me:(e=Bt(n))?(n=e,Me):Wo)(t,n)}function du(t){return function(){this.removeAttribute(t)}}function gu(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vu(t,n,e){var i,r=e+"",o;return function(){var u=this.getAttribute(t);return u===r?null:u===i?o:o=n(i=u,e)}}function mu(t,n,e){var i,r=e+"",o;return function(){var u=this.getAttributeNS(t.space,t.local);return u===r?null:u===i?o:o=n(i=u,e)}}function _u(t,n,e){var i,r,o;return function(){var u,a=e(this),c;return a==null?void this.removeAttribute(t):(u=this.getAttribute(t),c=a+"",u===c?null:u===i&&c===r?o:(r=c,o=n(i=u,a)))}}function yu(t,n,e){var i,r,o;return function(){var u,a=e(this),c;return a==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),c=a+"",u===c?null:u===i&&c===r?o:(r=c,o=n(i=u,a)))}}function wu(t,n){var e=Nn(t),i=e==="transform"?Jo:Si;return this.attrTween(t,typeof n=="function"?(e.local?yu:_u)(e,i,he(this,"attr."+t,n)):n==null?(e.local?gu:du)(e):(e.local?mu:vu)(e,i,n))}function xu(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Su(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function Eu(t,n){var e,i;function r(){var o=n.apply(this,arguments);return o!==i&&(e=(i=o)&&Su(t,o)),e}return r._value=n,r}function bu(t,n){var e,i;function r(){var o=n.apply(this,arguments);return o!==i&&(e=(i=o)&&xu(t,o)),e}return r._value=n,r}function Nu(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var i=Nn(t);return this.tween(e,(i.local?Eu:bu)(i,n))}function Mu(t,n){return function(){fe(this,t).delay=+n.apply(this,arguments)}}function $u(t,n){return n=+n,function(){fe(this,t).delay=n}}function Au(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Mu:$u)(n,t)):ot(this.node(),n).delay}function ku(t,n){return function(){lt(this,t).duration=+n.apply(this,arguments)}}function Ru(t,n){return n=+n,function(){lt(this,t).duration=n}}function zu(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?ku:Ru)(n,t)):ot(this.node(),n).duration}function Tu(t,n){if(typeof n!="function")throw new Error;return function(){lt(this,t).ease=n}}function Pu(t){var n=this._id;return arguments.length?this.each(Tu(n,t)):ot(this.node(),n).ease}function Cu(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;lt(this,t).ease=e}}function Du(t){if(typeof t!="function")throw new Error;return this.each(Cu(this._id,t))}function Iu(t){typeof t!="function"&&(t=ei(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o=n[r],u=o.length,a=i[r]=[],c,l=0;l<u;++l)(c=o[l])&&t.call(c,c.__data__,l,o)&&a.push(c);return new vt(i,this._parents,this._name,this._id)}function Fu(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,i=n.length,r=e.length,o=Math.min(i,r),u=new Array(i),a=0;a<o;++a)for(var c=n[a],l=e[a],s=c.length,f=u[a]=new Array(s),h,g=0;g<s;++g)(h=c[g]||l[g])&&(f[g]=h);for(;a<i;++a)u[a]=n[a];return new vt(u,this._parents,this._name,this._id)}function Lu(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function Ou(t,n,e){var i,r,o=Lu(n)?fe:lt;return function(){var u=o(this,t),a=u.on;a!==i&&(r=(i=a).copy()).on(n,e),u.on=r}}function Xu(t,n){var e=this._id;return arguments.length<2?ot(this.node(),e).on.on(t):this.each(Ou(e,t,n))}function qu(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function Hu(){return this.on("end.remove",qu(this._id))}function Bu(t){var n=this._name,e=this._id;typeof t!="function"&&(t=ae(t));for(var i=this._groups,r=i.length,o=new Array(r),u=0;u<r;++u)for(var a=i[u],c=a.length,l=o[u]=new Array(c),s,f,h=0;h<c;++h)(s=a[h])&&(f=t.call(s,s.__data__,h,a))&&("__data__"in s&&(f.__data__=s.__data__),l[h]=f,$n(l[h],n,e,h,l,ot(s,e)));return new vt(o,this._parents,n,e)}function Yu(t){var n=this._name,e=this._id;typeof t!="function"&&(t=ni(t));for(var i=this._groups,r=i.length,o=[],u=[],a=0;a<r;++a)for(var c=i[a],l=c.length,s,f=0;f<l;++f)if(s=c[f]){for(var h=t.call(s,s.__data__,f,c),g,_=ot(s,e),b=0,x=h.length;b<x;++b)(g=h[b])&&$n(g,n,e,b,h,_);o.push(h),u.push(s)}return new vt(o,u,n,e)}var Vu=Kt.prototype.constructor;function Gu(){return new Vu(this._groups,this._parents)}function Uu(t,n){var e,i,r;return function(){var o=At(this,t),u=(this.style.removeProperty(t),At(this,t));return o===u?null:o===e&&u===i?r:r=n(e=o,i=u)}}function Ei(t){return function(){this.style.removeProperty(t)}}function Wu(t,n,e){var i,r=e+"",o;return function(){var u=At(this,t);return u===r?null:u===i?o:o=n(i=u,e)}}function Ku(t,n,e){var i,r,o;return function(){var u=At(this,t),a=e(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(t),At(this,t))),u===c?null:u===i&&c===r?o:(r=c,o=n(i=u,a))}}function Zu(t,n){var e,i,r,o="style."+n,u="end."+o,a;return function(){var c=lt(this,t),l=c.on,s=c.value[o]==null?a||(a=Ei(n)):void 0;(l!==e||r!==s)&&(i=(e=l).copy()).on(u,r=s),c.on=i}}function Qu(t,n,e){var i=(t+="")=="transform"?Qo:Si;return n==null?this.styleTween(t,Uu(t,i)).on("end.style."+t,Ei(t)):typeof n=="function"?this.styleTween(t,Ku(t,i,he(this,"style."+t,n))).each(Zu(this._id,t)):this.styleTween(t,Wu(t,i,n),e).on("end.style."+t,null)}function Ju(t,n,e){return function(i){this.style.setProperty(t,n.call(this,i),e)}}function ju(t,n,e){var i,r;function o(){var u=n.apply(this,arguments);return u!==r&&(i=(r=u)&&Ju(t,u,e)),i}return o._value=n,o}function ta(t,n,e){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;return this.tween(i,ju(t,n,e??""))}function na(t){return function(){this.textContent=t}}function ea(t){return function(){var n=t(this);this.textContent=n??""}}function ia(t){return this.tween("text",typeof t=="function"?ea(he(this,"text",t)):na(t==null?"":t+""))}function ra(t){return function(n){this.textContent=t.call(this,n)}}function oa(t){var n,e;function i(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&ra(r)),n}return i._value=t,i}function ua(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,oa(t))}function aa(){for(var t=this._name,n=this._id,e=bi(),i=this._groups,r=i.length,o=0;o<r;++o)for(var u=i[o],a=u.length,c,l=0;l<a;++l)if(c=u[l]){var s=ot(c,n);$n(c,t,e,l,u,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new vt(i,this._parents,t,e)}function sa(){var t,n,e=this,i=e._id,r=e.size();return new Promise(function(o,u){var a={value:u},c={value:function(){--r===0&&o()}};e.each(function(){var l=lt(this,i),s=l.on;s!==t&&(n=(t=s).copy(),n._.cancel.push(a),n._.interrupt.push(a),n._.end.push(c)),l.on=n}),r===0&&o()})}var la=0;function vt(t,n,e,i){this._groups=t,this._parents=n,this._name=e,this._id=i}function bi(){return++la}var ht=Kt.prototype;vt.prototype={constructor:vt,select:Bu,selectAll:Yu,selectChild:ht.selectChild,selectChildren:ht.selectChildren,filter:Iu,merge:Fu,selection:Gu,transition:aa,call:ht.call,nodes:ht.nodes,node:ht.node,size:ht.size,empty:ht.empty,each:ht.each,on:Xu,attr:wu,attrTween:Nu,style:Qu,styleTween:ta,text:ia,textTween:ua,remove:Hu,tween:pu,delay:Au,duration:zu,ease:Pu,easeVarying:Du,end:sa,[Symbol.iterator]:ht[Symbol.iterator]};function ca(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var fa={time:null,delay:0,duration:250,ease:ca};function ha(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function pa(t){var n,e;t instanceof vt?(n=t._id,t=t._name):(n=bi(),(e=fa).time=ce(),t=t==null?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var u=i[o],a=u.length,c,l=0;l<a;++l)(c=u[l])&&$n(c,t,n,l,u,e||ha(c,n));return new vt(i,this._parents,t,n)}Kt.prototype.interrupt=cu;Kt.prototype.transition=pa;var O=1e-6,I=Math.PI,Z=I/2,Pe=I/4,j=I*2,Q=180/I,G=I/180,q=Math.abs,Ni=Math.atan,Vt=Math.atan2,B=Math.cos,da=Math.exp,ga=Math.log,Y=Math.sin,va=Math.sign||function(t){return t>0?1:t<0?-1:0},bt=Math.sqrt,ma=Math.tan;function _a(t){return t>1?0:t<-1?I:Math.acos(t)}function Gt(t){return t>1?Z:t<-1?-Z:Math.asin(t)}function et(){}function mn(t,n){t&&De.hasOwnProperty(t.type)&&De[t.type](t,n)}var Ce={Feature:function(t,n){mn(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,i=-1,r=e.length;++i<r;)mn(e[i].geometry,n)}},De={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)t=e[i],n.point(t[0],t[1],t[2])},LineString:function(t,n){Vn(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)Vn(e[i],n,0)},Polygon:function(t,n){Ie(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)Ie(e[i],n)},GeometryCollection:function(t,n){for(var e=t.geometries,i=-1,r=e.length;++i<r;)mn(e[i],n)}};function Vn(t,n,e){var i=-1,r=t.length-e,o;for(n.lineStart();++i<r;)o=t[i],n.point(o[0],o[1],o[2]);n.lineEnd()}function Ie(t,n){var e=-1,i=t.length;for(n.polygonStart();++e<i;)Vn(t[e],n,1);n.polygonEnd()}function Nt(t,n){t&&Ce.hasOwnProperty(t.type)?Ce[t.type](t,n):mn(t,n)}function Gn(t){return[Vt(t[1],t[0]),Gt(t[2])]}function Rt(t){var n=t[0],e=t[1],i=B(e);return[i*B(n),i*Y(n),Y(e)]}function tn(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function _n(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function zn(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function nn(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Un(t){var n=bt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Wn(t,n){function e(i,r){return i=t(i,r),n(i[0],i[1])}return t.invert&&n.invert&&(e.invert=function(i,r){return i=n.invert(i,r),i&&t.invert(i[0],i[1])}),e}function Kn(t,n){return q(t)>I&&(t-=Math.round(t/j)*j),[t,n]}Kn.invert=Kn;function Mi(t,n,e){return(t%=j)?n||e?Wn(Le(t),Oe(n,e)):Le(t):n||e?Oe(n,e):Kn}function Fe(t){return function(n,e){return n+=t,q(n)>I&&(n-=Math.round(n/j)*j),[n,e]}}function Le(t){var n=Fe(t);return n.invert=Fe(-t),n}function Oe(t,n){var e=B(t),i=Y(t),r=B(n),o=Y(n);function u(a,c){var l=B(c),s=B(a)*l,f=Y(a)*l,h=Y(c),g=h*e+s*i;return[Vt(f*r-g*o,s*e-h*i),Gt(g*r+f*o)]}return u.invert=function(a,c){var l=B(c),s=B(a)*l,f=Y(a)*l,h=Y(c),g=h*r-f*o;return[Vt(f*r+h*o,s*e+g*i),Gt(g*e-s*i)]},u}function ya(t){t=Mi(t[0]*G,t[1]*G,t.length>2?t[2]*G:0);function n(e){return e=t(e[0]*G,e[1]*G),e[0]*=Q,e[1]*=Q,e}return n.invert=function(e){return e=t.invert(e[0]*G,e[1]*G),e[0]*=Q,e[1]*=Q,e},n}function wa(t,n,e,i,r,o){if(e){var u=B(n),a=Y(n),c=i*e;r==null?(r=n+i*j,o=n-c/2):(r=Xe(u,r),o=Xe(u,o),(i>0?r<o:r>o)&&(r+=i*j));for(var l,s=r;i>0?s>o:s<o;s-=c)l=Gn([u,-a*B(s),-a*Y(s)]),t.point(l[0],l[1])}}function Xe(t,n){n=Rt(n),n[0]-=t,Un(n);var e=_a(-n[1]);return((-n[2]<0?-e:e)+j-O)%j}function $i(){var t=[],n;return{point:function(e,i,r){n.push([e,i,r])},lineStart:function(){t.push(n=[])},lineEnd:et,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function cn(t,n){return q(t[0]-n[0])<O&&q(t[1]-n[1])<O}function en(t,n,e,i){this.x=t,this.z=n,this.o=e,this.e=i,this.v=!1,this.n=this.p=null}function Ai(t,n,e,i,r){var o=[],u=[],a,c;if(t.forEach(function(_){if(!((b=_.length-1)<=0)){var b,x=_[0],m=_[b],y;if(cn(x,m)){if(!x[2]&&!m[2]){for(r.lineStart(),a=0;a<b;++a)r.point((x=_[a])[0],x[1]);r.lineEnd();return}m[0]+=2*O}o.push(y=new en(x,_,null,!0)),u.push(y.o=new en(x,null,y,!1)),o.push(y=new en(m,_,null,!1)),u.push(y.o=new en(m,null,y,!0))}}),!!o.length){for(u.sort(n),qe(o),qe(u),a=0,c=u.length;a<c;++a)u[a].e=e=!e;for(var l=o[0],s,f;;){for(var h=l,g=!0;h.v;)if((h=h.n)===l)return;s=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(g)for(a=0,c=s.length;a<c;++a)r.point((f=s[a])[0],f[1]);else i(h.x,h.n.x,1,r);h=h.n}else{if(g)for(s=h.p.z,a=s.length-1;a>=0;--a)r.point((f=s[a])[0],f[1]);else i(h.x,h.p.x,-1,r);h=h.p}h=h.o,s=h.z,g=!g}while(!h.v);r.lineEnd()}}}function qe(t){if(n=t.length){for(var n,e=0,i=t[0],r;++e<n;)i.n=r=t[e],r.p=i,i=r;i.n=r=t[0],r.p=i}}function Tn(t){return q(t[0])<=I?t[0]:va(t[0])*((q(t[0])+I)%j-I)}function xa(t,n){var e=Tn(n),i=n[1],r=Y(i),o=[Y(e),-B(e),0],u=0,a=0,c=new xt;r===1?i=Z+O:r===-1&&(i=-Z-O);for(var l=0,s=t.length;l<s;++l)if(h=(f=t[l]).length)for(var f,h,g=f[h-1],_=Tn(g),b=g[1]/2+Pe,x=Y(b),m=B(b),y=0;y<h;++y,_=S,x=$,m=R,g=w){var w=f[y],S=Tn(w),N=w[1]/2+Pe,$=Y(N),R=B(N),z=S-_,P=z>=0?1:-1,F=P*z,k=F>I,W=x*$;if(c.add(Vt(W*P*Y(F),m*R+W*B(F))),u+=k?z+P*j:z,k^_>=e^S>=e){var X=_n(Rt(g),Rt(w));Un(X);var p=_n(o,X);Un(p);var d=(k^z>=0?-1:1)*Gt(p[2]);(i>d||i===d&&(X[0]||X[1]))&&(a+=k^z>=0?1:-1)}}return(u<-O||u<O&&c<-1e-12)^a&1}function ki(t,n,e,i){return function(r){var o=n(r),u=$i(),a=n(u),c=!1,l,s,f,h={point:g,lineStart:b,lineEnd:x,polygonStart:function(){h.point=m,h.lineStart=y,h.lineEnd=w,s=[],l=[]},polygonEnd:function(){h.point=g,h.lineStart=b,h.lineEnd=x,s=je(s);var S=xa(l,i);s.length?(c||(r.polygonStart(),c=!0),Ai(s,Ea,S,e,r)):S&&(c||(r.polygonStart(),c=!0),r.lineStart(),e(null,null,1,r),r.lineEnd()),c&&(r.polygonEnd(),c=!1),s=l=null},sphere:function(){r.polygonStart(),r.lineStart(),e(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function g(S,N){t(S,N)&&r.point(S,N)}function _(S,N){o.point(S,N)}function b(){h.point=_,o.lineStart()}function x(){h.point=g,o.lineEnd()}function m(S,N){f.push([S,N]),a.point(S,N)}function y(){a.lineStart(),f=[]}function w(){m(f[0][0],f[0][1]),a.lineEnd();var S=a.clean(),N=u.result(),$,R=N.length,z,P,F;if(f.pop(),l.push(f),f=null,!!R){if(S&1){if(P=N[0],(z=P.length-1)>0){for(c||(r.polygonStart(),c=!0),r.lineStart(),$=0;$<z;++$)r.point((F=P[$])[0],F[1]);r.lineEnd()}return}R>1&&S&2&&N.push(N.pop().concat(N.shift())),s.push(N.filter(Sa))}}return h}}function Sa(t){return t.length>1}function Ea(t,n){return((t=t.x)[0]<0?t[1]-Z-O:Z-t[1])-((n=n.x)[0]<0?n[1]-Z-O:Z-n[1])}const He=ki(function(){return!0},ba,Ma,[-I,-Z]);function ba(t){var n=NaN,e=NaN,i=NaN,r;return{lineStart:function(){t.lineStart(),r=1},point:function(o,u){var a=o>0?I:-I,c=q(o-n);q(c-I)<O?(t.point(n,e=(e+u)/2>0?Z:-Z),t.point(i,e),t.lineEnd(),t.lineStart(),t.point(a,e),t.point(o,e),r=0):i!==a&&c>=I&&(q(n-i)<O&&(n-=i*O),q(o-a)<O&&(o-=a*O),e=Na(n,e,o,u),t.point(i,e),t.lineEnd(),t.lineStart(),t.point(a,e),r=0),t.point(n=o,e=u),i=a},lineEnd:function(){t.lineEnd(),n=e=NaN},clean:function(){return 2-r}}}function Na(t,n,e,i){var r,o,u=Y(t-e);return q(u)>O?Ni((Y(n)*(o=B(i))*Y(e)-Y(i)*(r=B(n))*Y(t))/(r*o*u)):(n+i)/2}function Ma(t,n,e,i){var r;if(t==null)r=e*Z,i.point(-I,r),i.point(0,r),i.point(I,r),i.point(I,0),i.point(I,-r),i.point(0,-r),i.point(-I,-r),i.point(-I,0),i.point(-I,r);else if(q(t[0]-n[0])>O){var o=t[0]<n[0]?I:-I;r=e*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(n[0],n[1])}function $a(t){var n=B(t),e=2*G,i=n>0,r=q(n)>O;function o(s,f,h,g){wa(g,t,e,h,s,f)}function u(s,f){return B(s)*B(f)>n}function a(s){var f,h,g,_,b;return{lineStart:function(){_=g=!1,b=1},point:function(x,m){var y=[x,m],w,S=u(x,m),N=i?S?0:l(x,m):S?l(x+(x<0?I:-I),m):0;if(!f&&(_=g=S)&&s.lineStart(),S!==g&&(w=c(f,y),(!w||cn(f,w)||cn(y,w))&&(y[2]=1)),S!==g)b=0,S?(s.lineStart(),w=c(y,f),s.point(w[0],w[1])):(w=c(f,y),s.point(w[0],w[1],2),s.lineEnd()),f=w;else if(r&&f&&i^S){var $;!(N&h)&&($=c(y,f,!0))&&(b=0,i?(s.lineStart(),s.point($[0][0],$[0][1]),s.point($[1][0],$[1][1]),s.lineEnd()):(s.point($[1][0],$[1][1]),s.lineEnd(),s.lineStart(),s.point($[0][0],$[0][1],3)))}S&&(!f||!cn(f,y))&&s.point(y[0],y[1]),f=y,g=S,h=N},lineEnd:function(){g&&s.lineEnd(),f=null},clean:function(){return b|(_&&g)<<1}}}function c(s,f,h){var g=Rt(s),_=Rt(f),b=[1,0,0],x=_n(g,_),m=tn(x,x),y=x[0],w=m-y*y;if(!w)return!h&&s;var S=n*m/w,N=-n*y/w,$=_n(b,x),R=nn(b,S),z=nn(x,N);zn(R,z);var P=$,F=tn(R,P),k=tn(P,P),W=F*F-k*(tn(R,R)-1);if(!(W<0)){var X=bt(W),p=nn(P,(-F-X)/k);if(zn(p,R),p=Gn(p),!h)return p;var d=s[0],v=f[0],E=s[1],M=f[1],A;v<d&&(A=d,d=v,v=A);var T=v-d,C=q(T-I)<O,L=C||T<O;if(!C&&M<E&&(A=E,E=M,M=A),L?C?E+M>0^p[1]<(q(p[0]-d)<O?E:M):E<=p[1]&&p[1]<=M:T>I^(d<=p[0]&&p[0]<=v)){var V=nn(P,(-F+X)/k);return zn(V,R),[p,Gn(V)]}}}function l(s,f){var h=i?t:I-t,g=0;return s<-h?g|=1:s>h&&(g|=2),f<-h?g|=4:f>h&&(g|=8),g}return ki(u,a,o,i?[0,-t]:[-I,t-I])}function Aa(t,n,e,i,r,o){var u=t[0],a=t[1],c=n[0],l=n[1],s=0,f=1,h=c-u,g=l-a,_;if(_=e-u,!(!h&&_>0)){if(_/=h,h<0){if(_<s)return;_<f&&(f=_)}else if(h>0){if(_>f)return;_>s&&(s=_)}if(_=r-u,!(!h&&_<0)){if(_/=h,h<0){if(_>f)return;_>s&&(s=_)}else if(h>0){if(_<s)return;_<f&&(f=_)}if(_=i-a,!(!g&&_>0)){if(_/=g,g<0){if(_<s)return;_<f&&(f=_)}else if(g>0){if(_>f)return;_>s&&(s=_)}if(_=o-a,!(!g&&_<0)){if(_/=g,g<0){if(_>f)return;_>s&&(s=_)}else if(g>0){if(_<s)return;_<f&&(f=_)}return s>0&&(t[0]=u+s*h,t[1]=a+s*g),f<1&&(n[0]=u+f*h,n[1]=a+f*g),!0}}}}}var It=1e9,rn=-It;function ka(t,n,e,i){function r(l,s){return t<=l&&l<=e&&n<=s&&s<=i}function o(l,s,f,h){var g=0,_=0;if(l==null||(g=u(l,f))!==(_=u(s,f))||c(l,s)<0^f>0)do h.point(g===0||g===3?t:e,g>1?i:n);while((g=(g+f+4)%4)!==_);else h.point(s[0],s[1])}function u(l,s){return q(l[0]-t)<O?s>0?0:3:q(l[0]-e)<O?s>0?2:1:q(l[1]-n)<O?s>0?1:0:s>0?3:2}function a(l,s){return c(l.x,s.x)}function c(l,s){var f=u(l,1),h=u(s,1);return f!==h?f-h:f===0?s[1]-l[1]:f===1?l[0]-s[0]:f===2?l[1]-s[1]:s[0]-l[0]}return function(l){var s=l,f=$i(),h,g,_,b,x,m,y,w,S,N,$,R={point:z,lineStart:W,lineEnd:X,polygonStart:F,polygonEnd:k};function z(d,v){r(d,v)&&s.point(d,v)}function P(){for(var d=0,v=0,E=g.length;v<E;++v)for(var M=g[v],A=1,T=M.length,C=M[0],L,V,H=C[0],U=C[1];A<T;++A)L=H,V=U,C=M[A],H=C[0],U=C[1],V<=i?U>i&&(H-L)*(i-V)>(U-V)*(t-L)&&++d:U<=i&&(H-L)*(i-V)<(U-V)*(t-L)&&--d;return d}function F(){s=f,h=[],g=[],$=!0}function k(){var d=P(),v=$&&d,E=(h=je(h)).length;(v||E)&&(l.polygonStart(),v&&(l.lineStart(),o(null,null,1,l),l.lineEnd()),E&&Ai(h,a,d,o,l),l.polygonEnd()),s=l,h=g=_=null}function W(){R.point=p,g&&g.push(_=[]),N=!0,S=!1,y=w=NaN}function X(){h&&(p(b,x),m&&S&&f.rejoin(),h.push(f.result())),R.point=z,S&&s.lineEnd()}function p(d,v){var E=r(d,v);if(g&&_.push([d,v]),N)b=d,x=v,m=E,N=!1,E&&(s.lineStart(),s.point(d,v));else if(E&&S)s.point(d,v);else{var M=[y=Math.max(rn,Math.min(It,y)),w=Math.max(rn,Math.min(It,w))],A=[d=Math.max(rn,Math.min(It,d)),v=Math.max(rn,Math.min(It,v))];Aa(M,A,t,n,e,i)?(S||(s.lineStart(),s.point(M[0],M[1])),s.point(A[0],A[1]),E||s.lineEnd(),$=!1):E&&(s.lineStart(),s.point(d,v),$=!1)}y=d,w=v,S=E}return R}}const Zn=t=>t;var Pn=new xt,Qn=new xt,Ri,zi,Jn,jn,dt={point:et,lineStart:et,lineEnd:et,polygonStart:function(){dt.lineStart=Ra,dt.lineEnd=Ta},polygonEnd:function(){dt.lineStart=dt.lineEnd=dt.point=et,Pn.add(q(Qn)),Qn=new xt},result:function(){var t=Pn/2;return Pn=new xt,t}};function Ra(){dt.point=za}function za(t,n){dt.point=Ti,Ri=Jn=t,zi=jn=n}function Ti(t,n){Qn.add(jn*t-Jn*n),Jn=t,jn=n}function Ta(){Ti(Ri,zi)}var zt=1/0,yn=zt,Ut=-zt,wn=Ut,xn={point:Pa,lineStart:et,lineEnd:et,polygonStart:et,polygonEnd:et,result:function(){var t=[[zt,yn],[Ut,wn]];return Ut=wn=-(yn=zt=1/0),t}};function Pa(t,n){t<zt&&(zt=t),t>Ut&&(Ut=t),n<yn&&(yn=n),n>wn&&(wn=n)}var te=0,ne=0,Ft=0,Sn=0,En=0,Mt=0,ee=0,ie=0,Lt=0,Pi,Ci,ut,at,nt={point:Et,lineStart:Be,lineEnd:Ye,polygonStart:function(){nt.lineStart=Ia,nt.lineEnd=Fa},polygonEnd:function(){nt.point=Et,nt.lineStart=Be,nt.lineEnd=Ye},result:function(){var t=Lt?[ee/Lt,ie/Lt]:Mt?[Sn/Mt,En/Mt]:Ft?[te/Ft,ne/Ft]:[NaN,NaN];return te=ne=Ft=Sn=En=Mt=ee=ie=Lt=0,t}};function Et(t,n){te+=t,ne+=n,++Ft}function Be(){nt.point=Ca}function Ca(t,n){nt.point=Da,Et(ut=t,at=n)}function Da(t,n){var e=t-ut,i=n-at,r=bt(e*e+i*i);Sn+=r*(ut+t)/2,En+=r*(at+n)/2,Mt+=r,Et(ut=t,at=n)}function Ye(){nt.point=Et}function Ia(){nt.point=La}function Fa(){Di(Pi,Ci)}function La(t,n){nt.point=Di,Et(Pi=ut=t,Ci=at=n)}function Di(t,n){var e=t-ut,i=n-at,r=bt(e*e+i*i);Sn+=r*(ut+t)/2,En+=r*(at+n)/2,Mt+=r,r=at*t-ut*n,ee+=r*(ut+t),ie+=r*(at+n),Lt+=r*3,Et(ut=t,at=n)}function Ii(t){this._context=t}Ii.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,j);break}}},result:et};var re=new xt,Cn,Fi,Li,Ot,Xt,Wt={point:et,lineStart:function(){Wt.point=Oa},lineEnd:function(){Cn&&Oi(Fi,Li),Wt.point=et},polygonStart:function(){Cn=!0},polygonEnd:function(){Cn=null},result:function(){var t=+re;return re=new xt,t}};function Oa(t,n){Wt.point=Oi,Fi=Ot=t,Li=Xt=n}function Oi(t,n){Ot-=t,Xt-=n,re.add(bt(Ot*Ot+Xt*Xt)),Ot=t,Xt=n}let Ve,bn,Ge,Ue;class We{constructor(n){this._append=n==null?Xi:Xa(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,e){switch(this._point){case 0:{this._append`M${n},${e}`,this._point=1;break}case 1:{this._append`L${n},${e}`;break}default:{if(this._append`M${n},${e}`,this._radius!==Ge||this._append!==bn){const i=this._radius,r=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,Ge=i,bn=this._append,Ue=this._,this._=r}this._+=Ue;break}}}result(){const n=this._;return this._="",n.length?n:null}}function Xi(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Xa(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return Xi;if(n!==Ve){const e=10**n;Ve=n,bn=function(r){let o=1;this._+=r[0];for(const u=r.length;o<u;++o)this._+=Math.round(arguments[o]*e)/e+r[o]}}return bn}function qa(t,n){let e=3,i=4.5,r,o;function u(a){return a&&(typeof i=="function"&&o.pointRadius(+i.apply(this,arguments)),Nt(a,r(o))),o.result()}return u.area=function(a){return Nt(a,r(dt)),dt.result()},u.measure=function(a){return Nt(a,r(Wt)),Wt.result()},u.bounds=function(a){return Nt(a,r(xn)),xn.result()},u.centroid=function(a){return Nt(a,r(nt)),nt.result()},u.projection=function(a){return arguments.length?(r=a==null?(t=null,Zn):(t=a).stream,u):t},u.context=function(a){return arguments.length?(o=a==null?(n=null,new We(e)):new Ii(n=a),typeof i!="function"&&o.pointRadius(i),u):n},u.pointRadius=function(a){return arguments.length?(i=typeof a=="function"?a:(o.pointRadius(+a),+a),u):i},u.digits=function(a){if(!arguments.length)return e;if(a==null)e=null;else{const c=Math.floor(a);if(!(c>=0))throw new RangeError(`invalid digits: ${a}`);e=c}return n===null&&(o=new We(e)),u},u.projection(t).digits(e).context(n)}function pe(t){return function(n){var e=new oe;for(var i in t)e[i]=t[i];return e.stream=n,e}}function oe(){}oe.prototype={constructor:oe,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function de(t,n,e){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),i!=null&&t.clipExtent(null),Nt(e,t.stream(xn)),n(xn.result()),i!=null&&t.clipExtent(i),t}function qi(t,n,e){return de(t,function(i){var r=n[1][0]-n[0][0],o=n[1][1]-n[0][1],u=Math.min(r/(i[1][0]-i[0][0]),o/(i[1][1]-i[0][1])),a=+n[0][0]+(r-u*(i[1][0]+i[0][0]))/2,c=+n[0][1]+(o-u*(i[1][1]+i[0][1]))/2;t.scale(150*u).translate([a,c])},e)}function Ha(t,n,e){return qi(t,[[0,0],n],e)}function Ba(t,n,e){return de(t,function(i){var r=+n,o=r/(i[1][0]-i[0][0]),u=(r-o*(i[1][0]+i[0][0]))/2,a=-o*i[0][1];t.scale(150*o).translate([u,a])},e)}function Ya(t,n,e){return de(t,function(i){var r=+n,o=r/(i[1][1]-i[0][1]),u=-o*i[0][0],a=(r-o*(i[1][1]+i[0][1]))/2;t.scale(150*o).translate([u,a])},e)}var Ke=16,Va=B(30*G);function Ze(t,n){return+n?Ua(t,n):Ga(t)}function Ga(t){return pe({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function Ua(t,n){function e(i,r,o,u,a,c,l,s,f,h,g,_,b,x){var m=l-i,y=s-r,w=m*m+y*y;if(w>4*n&&b--){var S=u+h,N=a+g,$=c+_,R=bt(S*S+N*N+$*$),z=Gt($/=R),P=q(q($)-1)<O||q(o-f)<O?(o+f)/2:Vt(N,S),F=t(P,z),k=F[0],W=F[1],X=k-i,p=W-r,d=y*X-m*p;(d*d/w>n||q((m*X+y*p)/w-.5)>.3||u*h+a*g+c*_<Va)&&(e(i,r,o,u,a,c,k,W,P,S/=R,N/=R,$,b,x),x.point(k,W),e(k,W,P,S,N,$,l,s,f,h,g,_,b,x))}}return function(i){var r,o,u,a,c,l,s,f,h,g,_,b,x={point:m,lineStart:y,lineEnd:S,polygonStart:function(){i.polygonStart(),x.lineStart=N},polygonEnd:function(){i.polygonEnd(),x.lineStart=y}};function m(z,P){z=t(z,P),i.point(z[0],z[1])}function y(){f=NaN,x.point=w,i.lineStart()}function w(z,P){var F=Rt([z,P]),k=t(z,P);e(f,h,s,g,_,b,f=k[0],h=k[1],s=z,g=F[0],_=F[1],b=F[2],Ke,i),i.point(f,h)}function S(){x.point=m,i.lineEnd()}function N(){y(),x.point=$,x.lineEnd=R}function $(z,P){w(r=z,P),o=f,u=h,a=g,c=_,l=b,x.point=w}function R(){e(f,h,s,g,_,b,o,u,r,a,c,l,Ke,i),x.lineEnd=S,S()}return x}}var Wa=pe({point:function(t,n){this.stream.point(t*G,n*G)}});function Ka(t){return pe({point:function(n,e){var i=t(n,e);return this.stream.point(i[0],i[1])}})}function Za(t,n,e,i,r){function o(u,a){return u*=i,a*=r,[n+t*u,e-t*a]}return o.invert=function(u,a){return[(u-n)/t*i,(e-a)/t*r]},o}function Qe(t,n,e,i,r,o){if(!o)return Za(t,n,e,i,r);var u=B(o),a=Y(o),c=u*t,l=a*t,s=u/t,f=a/t,h=(a*e-u*n)/t,g=(a*n+u*e)/t;function _(b,x){return b*=i,x*=r,[c*b-l*x+n,e-l*b-c*x]}return _.invert=function(b,x){return[i*(s*b-f*x+h),r*(g-f*b-s*x)]},_}function Qa(t){return Ja(function(){return t})()}function Ja(t){var n,e=150,i=480,r=250,o=0,u=0,a=0,c=0,l=0,s,f=0,h=1,g=1,_=null,b=He,x=null,m,y,w,S=Zn,N=.5,$,R,z,P,F;function k(d){return z(d[0]*G,d[1]*G)}function W(d){return d=z.invert(d[0],d[1]),d&&[d[0]*Q,d[1]*Q]}k.stream=function(d){return P&&F===d?P:P=Wa(Ka(s)(b($(S(F=d)))))},k.preclip=function(d){return arguments.length?(b=d,_=void 0,p()):b},k.postclip=function(d){return arguments.length?(S=d,x=m=y=w=null,p()):S},k.clipAngle=function(d){return arguments.length?(b=+d?$a(_=d*G):(_=null,He),p()):_*Q},k.clipExtent=function(d){return arguments.length?(S=d==null?(x=m=y=w=null,Zn):ka(x=+d[0][0],m=+d[0][1],y=+d[1][0],w=+d[1][1]),p()):x==null?null:[[x,m],[y,w]]},k.scale=function(d){return arguments.length?(e=+d,X()):e},k.translate=function(d){return arguments.length?(i=+d[0],r=+d[1],X()):[i,r]},k.center=function(d){return arguments.length?(o=d[0]%360*G,u=d[1]%360*G,X()):[o*Q,u*Q]},k.rotate=function(d){return arguments.length?(a=d[0]%360*G,c=d[1]%360*G,l=d.length>2?d[2]%360*G:0,X()):[a*Q,c*Q,l*Q]},k.angle=function(d){return arguments.length?(f=d%360*G,X()):f*Q},k.reflectX=function(d){return arguments.length?(h=d?-1:1,X()):h<0},k.reflectY=function(d){return arguments.length?(g=d?-1:1,X()):g<0},k.precision=function(d){return arguments.length?($=Ze(R,N=d*d),p()):bt(N)},k.fitExtent=function(d,v){return qi(k,d,v)},k.fitSize=function(d,v){return Ha(k,d,v)},k.fitWidth=function(d,v){return Ba(k,d,v)},k.fitHeight=function(d,v){return Ya(k,d,v)};function X(){var d=Qe(e,0,0,h,g,f).apply(null,n(o,u)),v=Qe(e,i-d[0],r-d[1],h,g,f);return s=Mi(a,c,l),R=Wn(n,v),z=Wn(s,R),$=Ze(R,N),p()}function p(){return P=F=null,k}return function(){return n=t.apply(this,arguments),k.invert=n.invert&&W,X()}}function ge(t,n){return[t,ga(ma((Z+n)/2))]}ge.invert=function(t,n){return[t,2*Ni(da(n))-Z]};function ja(){return ts(ge).scale(961/j)}function ts(t){var n=Qa(t),e=n.center,i=n.scale,r=n.translate,o=n.clipExtent,u=null,a,c,l;n.scale=function(f){return arguments.length?(i(f),s()):i()},n.translate=function(f){return arguments.length?(r(f),s()):r()},n.center=function(f){return arguments.length?(e(f),s()):e()},n.clipExtent=function(f){return arguments.length?(f==null?u=a=c=l=null:(u=+f[0][0],a=+f[0][1],c=+f[1][0],l=+f[1][1]),s()):u==null?null:[[u,a],[c,l]]};function s(){var f=I*i(),h=n(ya(n.rotate()).invert([0,0]));return o(u==null?[[h[0]-f,h[1]-f],[h[0]+f,h[1]+f]]:t===ge?[[Math.max(h[0]-f,u),a],[Math.min(h[0]+f,c),l]]:[[u,Math.max(h[1]-f,a)],[c,Math.min(h[1]+f,l)]])}return s()}const on=t=>()=>t;function ns(t,{sourceEvent:n,target:e,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function gt(t,n,e){this.k=t,this.x=n,this.y=e}gt.prototype={constructor:gt,scale:function(t){return t===1?this:new gt(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new gt(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Hi=new gt(1,0,0);gt.prototype;function Dn(t){t.stopImmediatePropagation()}function Pt(t){t.preventDefault(),t.stopImmediatePropagation()}function es(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function is(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Je(){return this.__zoom||Hi}function rs(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function os(){return navigator.maxTouchPoints||"ontouchstart"in this}function us(t,n,e){var i=t.invertX(n[0][0])-e[0][0],r=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],u=t.invertY(n[1][1])-e[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),u>o?(o+u)/2:Math.min(0,o)||Math.max(0,u))}function as(){var t=es,n=is,e=us,i=rs,r=os,o=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],a=250,c=eu,l=ue("start","zoom","end"),s,f,h,g=500,_=150,b=0,x=10;function m(p){p.property("__zoom",Je).on("wheel.zoom",z,{passive:!1}).on("mousedown.zoom",P).on("dblclick.zoom",F).filter(r).on("touchstart.zoom",k).on("touchmove.zoom",W).on("touchend.zoom touchcancel.zoom",X).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(p,d,v,E){var M=p.selection?p.selection():p;M.property("__zoom",Je),p!==M?N(p,d,v,E):M.interrupt().each(function(){$(this,arguments).event(E).start().zoom(null,typeof d=="function"?d.apply(this,arguments):d).end()})},m.scaleBy=function(p,d,v,E){m.scaleTo(p,function(){var M=this.__zoom.k,A=typeof d=="function"?d.apply(this,arguments):d;return M*A},v,E)},m.scaleTo=function(p,d,v,E){m.transform(p,function(){var M=n.apply(this,arguments),A=this.__zoom,T=v==null?S(M):typeof v=="function"?v.apply(this,arguments):v,C=A.invert(T),L=typeof d=="function"?d.apply(this,arguments):d;return e(w(y(A,L),T,C),M,u)},v,E)},m.translateBy=function(p,d,v,E){m.transform(p,function(){return e(this.__zoom.translate(typeof d=="function"?d.apply(this,arguments):d,typeof v=="function"?v.apply(this,arguments):v),n.apply(this,arguments),u)},null,E)},m.translateTo=function(p,d,v,E,M){m.transform(p,function(){var A=n.apply(this,arguments),T=this.__zoom,C=E==null?S(A):typeof E=="function"?E.apply(this,arguments):E;return e(Hi.translate(C[0],C[1]).scale(T.k).translate(typeof d=="function"?-d.apply(this,arguments):-d,typeof v=="function"?-v.apply(this,arguments):-v),A,u)},E,M)};function y(p,d){return d=Math.max(o[0],Math.min(o[1],d)),d===p.k?p:new gt(d,p.x,p.y)}function w(p,d,v){var E=d[0]-v[0]*p.k,M=d[1]-v[1]*p.k;return E===p.x&&M===p.y?p:new gt(p.k,E,M)}function S(p){return[(+p[0][0]+ +p[1][0])/2,(+p[0][1]+ +p[1][1])/2]}function N(p,d,v,E){p.on("start.zoom",function(){$(this,arguments).event(E).start()}).on("interrupt.zoom end.zoom",function(){$(this,arguments).event(E).end()}).tween("zoom",function(){var M=this,A=arguments,T=$(M,A).event(E),C=n.apply(M,A),L=v==null?S(C):typeof v=="function"?v.apply(M,A):v,V=Math.max(C[1][0]-C[0][0],C[1][1]-C[0][1]),H=M.__zoom,U=typeof d=="function"?d.apply(M,A):d,ct=c(H.invert(L).concat(V/H.k),U.invert(L).concat(V/U.k));return function(it){if(it===1)it=U;else{var ft=ct(it),An=V/ft[2];it=new gt(An,L[0]-ft[0]*An,L[1]-ft[1]*An)}T.zoom(null,it)}})}function $(p,d,v){return!v&&p.__zooming||new R(p,d)}function R(p,d){this.that=p,this.args=d,this.active=0,this.sourceEvent=null,this.extent=n.apply(p,d),this.taps=0}R.prototype={event:function(p){return p&&(this.sourceEvent=p),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(p,d){return this.mouse&&p!=="mouse"&&(this.mouse[1]=d.invert(this.mouse[0])),this.touch0&&p!=="touch"&&(this.touch0[1]=d.invert(this.touch0[0])),this.touch1&&p!=="touch"&&(this.touch1[1]=d.invert(this.touch1[0])),this.that.__zoom=d,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(p){var d=pt(this.that).datum();l.call(p,this.that,new ns(p,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:l}),d)}};function z(p,...d){if(!t.apply(this,arguments))return;var v=$(this,d).event(p),E=this.__zoom,M=Math.max(o[0],Math.min(o[1],E.k*Math.pow(2,i.apply(this,arguments)))),A=_t(p);if(v.wheel)(v.mouse[0][0]!==A[0]||v.mouse[0][1]!==A[1])&&(v.mouse[1]=E.invert(v.mouse[0]=A)),clearTimeout(v.wheel);else{if(E.k===M)return;v.mouse=[A,E.invert(A)],ln(this),v.start()}Pt(p),v.wheel=setTimeout(T,_),v.zoom("mouse",e(w(y(E,M),v.mouse[0],v.mouse[1]),v.extent,u));function T(){v.wheel=null,v.end()}}function P(p,...d){if(h||!t.apply(this,arguments))return;var v=p.currentTarget,E=$(this,d,!0).event(p),M=pt(p.view).on("mousemove.zoom",L,!0).on("mouseup.zoom",V,!0),A=_t(p,v),T=p.clientX,C=p.clientY;ko(p.view),Dn(p),E.mouse=[A,this.__zoom.invert(A)],ln(this),E.start();function L(H){if(Pt(H),!E.moved){var U=H.clientX-T,ct=H.clientY-C;E.moved=U*U+ct*ct>b}E.event(H).zoom("mouse",e(w(E.that.__zoom,E.mouse[0]=_t(H,v),E.mouse[1]),E.extent,u))}function V(H){M.on("mousemove.zoom mouseup.zoom",null),Ro(H.view,E.moved),Pt(H),E.event(H).end()}}function F(p,...d){if(t.apply(this,arguments)){var v=this.__zoom,E=_t(p.changedTouches?p.changedTouches[0]:p,this),M=v.invert(E),A=v.k*(p.shiftKey?.5:2),T=e(w(y(v,A),E,M),n.apply(this,d),u);Pt(p),a>0?pt(this).transition().duration(a).call(N,T,E,p):pt(this).call(m.transform,T,E,p)}}function k(p,...d){if(t.apply(this,arguments)){var v=p.touches,E=v.length,M=$(this,d,p.changedTouches.length===E).event(p),A,T,C,L;for(Dn(p),T=0;T<E;++T)C=v[T],L=_t(C,this),L=[L,this.__zoom.invert(L),C.identifier],M.touch0?!M.touch1&&M.touch0[2]!==L[2]&&(M.touch1=L,M.taps=0):(M.touch0=L,A=!0,M.taps=1+!!s);s&&(s=clearTimeout(s)),A&&(M.taps<2&&(f=L[0],s=setTimeout(function(){s=null},g)),ln(this),M.start())}}function W(p,...d){if(this.__zooming){var v=$(this,d).event(p),E=p.changedTouches,M=E.length,A,T,C,L;for(Pt(p),A=0;A<M;++A)T=E[A],C=_t(T,this),v.touch0&&v.touch0[2]===T.identifier?v.touch0[0]=C:v.touch1&&v.touch1[2]===T.identifier&&(v.touch1[0]=C);if(T=v.that.__zoom,v.touch1){var V=v.touch0[0],H=v.touch0[1],U=v.touch1[0],ct=v.touch1[1],it=(it=U[0]-V[0])*it+(it=U[1]-V[1])*it,ft=(ft=ct[0]-H[0])*ft+(ft=ct[1]-H[1])*ft;T=y(T,Math.sqrt(it/ft)),C=[(V[0]+U[0])/2,(V[1]+U[1])/2],L=[(H[0]+ct[0])/2,(H[1]+ct[1])/2]}else if(v.touch0)C=v.touch0[0],L=v.touch0[1];else return;v.zoom("touch",e(w(T,C,L),v.extent,u))}}function X(p,...d){if(this.__zooming){var v=$(this,d).event(p),E=p.changedTouches,M=E.length,A,T;for(Dn(p),h&&clearTimeout(h),h=setTimeout(function(){h=null},g),A=0;A<M;++A)T=E[A],v.touch0&&v.touch0[2]===T.identifier?delete v.touch0:v.touch1&&v.touch1[2]===T.identifier&&delete v.touch1;if(v.touch1&&!v.touch0&&(v.touch0=v.touch1,delete v.touch1),v.touch0)v.touch0[1]=this.__zoom.invert(v.touch0[0]);else if(v.end(),v.taps===2&&(T=_t(T,this),Math.hypot(f[0]-T[0],f[1]-T[1])<x)){var C=pt(this).on("dblclick.zoom");C&&C.apply(this,arguments)}}}return m.wheelDelta=function(p){return arguments.length?(i=typeof p=="function"?p:on(+p),m):i},m.filter=function(p){return arguments.length?(t=typeof p=="function"?p:on(!!p),m):t},m.touchable=function(p){return arguments.length?(r=typeof p=="function"?p:on(!!p),m):r},m.extent=function(p){return arguments.length?(n=typeof p=="function"?p:on([[+p[0][0],+p[0][1]],[+p[1][0],+p[1][1]]]),m):n},m.scaleExtent=function(p){return arguments.length?(o[0]=+p[0],o[1]=+p[1],m):[o[0],o[1]]},m.translateExtent=function(p){return arguments.length?(u[0][0]=+p[0][0],u[1][0]=+p[1][0],u[0][1]=+p[0][1],u[1][1]=+p[1][1],m):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},m.constrain=function(p){return arguments.length?(e=p,m):e},m.duration=function(p){return arguments.length?(a=+p,m):a},m.interpolate=function(p){return arguments.length?(c=p,m):c},m.on=function(){var p=l.on.apply(l,arguments);return p===l?m:p},m.clickDistance=function(p){return arguments.length?(b=(p=+p)*p,m):Math.sqrt(b)},m.tapDistance=function(p){return arguments.length?(x=+p,m):x},m}const hs=({orders:t})=>{const[n,e]=tt.useState("all"),[i,r]=tt.useState(null),[o,u]=tt.useState(null),[a,c]=tt.useState({width:600,height:800}),l=tt.useRef(null),s=tt.useRef(null),f=tt.useRef(null);tt.useEffect(()=>{if(!s.current||!f.current)return;const m=pt(s.current),y=pt(f.current),w=N=>{const{transform:$}=N;y.attr("transform",$),y.attr("stroke-width",1/$.k)},S=as().scaleExtent([1,8]).translateExtent([[0,0],[a.width,a.height]]).on("zoom",w);return m.call(S),()=>{m.on(".zoom",null)}},[a,o]),tt.useEffect(()=>{fetch("/thailand-provinces.json").then(m=>m.json()).then(m=>{u(m)}).catch(m=>console.error("Failed to load map data",m))},[]),tt.useEffect(()=>{l.current&&c({width:l.current.clientWidth,height:l.current.clientHeight})},[l]);const h=m=>{const y={"Chon Buri":"Chonburi","Prachin Buri":"Prachinburi","Sing Buri":"Singburi","Lop Buri":"Lopburi",Saraburi:"Saraburi",Phangnga:"Phang Nga","Si Sa Ket":"Sisaket","Nong Bua Lam Phu":"Nong Bua Lamphu","Ubon Ratchathani":"Ubon Ratchathani",Bangkok:"Bangkok"},w=m.trim();return y[w]||w},g=tt.useMemo(()=>{if(!t||t.length===0)return{};let m=t;if(n!=="all")switch(n){case"payment":m=t.filter(w=>w.payment_method==="PromptPay");break;case"status":m=t.filter(w=>w.payment_status==="paid");break;case"shipped":m=t.filter(w=>w.payment_status==="shipped");break;case"pending":m=t.filter(w=>w.payment_status==="pending");break}const y={};return m.forEach(w=>{const S=w.province||"Unknown",N=h(S);y[N]||(y[N]={count:0,revenue:0,dbName:S}),y[N].count+=1,y[N].revenue+=Number(w.total_price)||0}),y},[t,n]),{pathGenerator:_}=tt.useMemo(()=>{if(!o)return{pathGenerator:null};const m=ja().fitSize([a.width,a.height],o);return{pathGenerator:qa().projection(m)}},[o,a]),b=[{id:"all",label:"All Orders",icon:"",color:"from-blue-500 to-cyan-500"},{id:"payment",label:"PromptPay",icon:"",color:"from-yellow-500 to-orange-500"},{id:"status",label:"Paid",icon:"",color:"from-green-500 to-emerald-500"},{id:"shipped",label:"Shipped",icon:"",color:"from-blue-500 to-indigo-500"},{id:"pending",label:"Pending",icon:"",color:"from-orange-500 to-red-500"}],x=Math.max(...Object.values(g).map(m=>m.count),1);return o?D.jsxs("div",{className:"space-y-4",children:[D.jsx("div",{className:"flex overflow-x-auto pb-2 gap-2 scrollbar-hide -mx-4 px-4 md:mx-0 md:px-0 md:flex-wrap",children:b.map(m=>D.jsxs("button",{onClick:()=>e(m.id),className:`px-3 py-1.5 text-xs font-bold rounded-lg transition-all flex items-center gap-1.5 whitespace-nowrap flex-shrink-0 ${n===m.id?"bg-[#D4AF37] text-black shadow-lg shadow-yellow-500/20":"bg-white/5 text-white/50 hover:bg-white/10 hover:text-white"}`,children:[D.jsx("span",{children:m.icon}),D.jsx("span",{children:m.label})]},m.id))}),D.jsxs("div",{ref:l,className:"relative bg-gradient-to-br from-[#050505] to-[#111] border border-white/10 rounded-2xl overflow-hidden aspect-[3/4] group cursor-grab active:cursor-grabbing",children:[D.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_rgba(59,130,246,0.1)_0%,_transparent_70%)] pointer-events-none"}),D.jsx("div",{className:"absolute bottom-4 right-4 z-20 pointer-events-none opacity-50 text-[10px] text-white/50 bg-black/50 px-2 py-1 rounded",children:"Scroll to Zoom  Drag to Pan"}),D.jsx("svg",{ref:s,width:"100%",height:"100%",viewBox:`0 0 ${a.width} ${a.height}`,children:D.jsx("g",{ref:f,children:o.features.map((m,y)=>{const w=m.properties.pro_en,S=g[w],N=!!S,$=i===w,[R,z]=_.centroid(m),P=!isNaN(R)&&!isNaN(z);return D.jsxs("g",{children:[D.jsx("path",{d:_(m),fill:N?"rgba(212, 175, 55, 0.15)":"rgba(255, 255, 255, 0.03)",stroke:N?"#D4AF37":"rgba(255, 255, 255, 0.1)",strokeWidth:N?1:.5,className:"transition-colors duration-200 hover:fill-white/10 cursor-pointer",onMouseEnter:()=>r(w),onMouseLeave:()=>r(null)}),N&&P&&(()=>{const F=4+S.count/x*15;return D.jsxs("g",{className:"pointer-events-none",children:[D.jsx("circle",{cx:R,cy:z,r:F*1.5,fill:"#D4AF37",opacity:"0.2",className:"animate-ping",style:{animationDuration:"3s"},vectorEffect:"non-scaling-stroke"}),D.jsx("circle",{cx:R,cy:z,r:F,fill:"#D4AF37",stroke:"#000",strokeWidth:1,vectorEffect:"non-scaling-stroke"})]})})(),D.jsx(Bi,{children:$&&P&&D.jsx("foreignObject",{x:R-75,y:z-80,width:150,height:100,style:{overflow:"visible",pointerEvents:"none"},children:D.jsxs(Yi.div,{initial:{opacity:0,y:10,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.9},className:"bg-black/90 backdrop-blur border border-[#D4AF37] rounded-lg p-3 text-center shadow-xl z-50 relative pointer-events-none",children:[D.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent border-t-[#D4AF37]"}),D.jsx("h4",{className:"font-bold text-[#D4AF37] mb-0 leading-tight text-sm",children:w}),N?D.jsxs("div",{className:"text-white space-y-0.5 mt-1",children:[D.jsxs("p",{className:"font-bold text-xs",children:[S.count," Orders"]}),D.jsxs("p",{className:"text-white/60 text-[10px]",children:["",S.revenue.toLocaleString()]})]}):D.jsx("p",{className:"text-white/40 text-[10px] mt-1",children:"No orders yet"})]})})})]},y)})})})]}),D.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[D.jsxs("div",{className:"bg-white/5 rounded-xl p-3 text-center border border-white/5",children:[D.jsx("p",{className:"text-white/50 text-[10px] uppercase tracking-widest mb-1",children:"Active Provinces"}),D.jsx("p",{className:"text-white text-xl font-black",children:Object.keys(g).length})]}),D.jsxs("div",{className:"bg-white/5 rounded-xl p-3 text-center border border-white/5",children:[D.jsx("p",{className:"text-white/50 text-[10px] uppercase tracking-widest mb-1",children:"Total Orders"}),D.jsx("p",{className:"text-white text-xl font-black",children:Object.values(g).reduce((m,y)=>m+y.count,0)})]}),D.jsxs("div",{className:"bg-white/5 rounded-xl p-3 text-center border border-white/5",children:[D.jsx("p",{className:"text-white/50 text-[10px] uppercase tracking-widest mb-1",children:"Revenue"}),D.jsxs("p",{className:"text-white text-xl font-black",children:["",Object.values(g).reduce((m,y)=>m+y.revenue,0).toLocaleString()]})]})]})]}):D.jsx("div",{className:"h-[500px] flex items-center justify-center bg-white/5 rounded-xl animate-pulse",children:D.jsx("p",{className:"text-white/30 font-bold",children:"Loading Real Map Data..."})})};export{hs as default};
