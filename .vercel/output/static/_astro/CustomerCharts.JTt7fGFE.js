import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as n}from"./index.WFquGv8Z.js";import{C as h,a as p,L as b,B as g,p as u,b as m,c as x,A as f,d as k,D as C}from"./index.DaEOfkTG.js";h.register(p,b,g,u,m,x,f);const l={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{color:"#fff"}},tooltip:{backgroundColor:"#111",titleColor:"#fff",bodyColor:"#D4AF37",borderColor:"#333",borderWidth:1}},scales:{y:{grid:{color:"#222"},ticks:{color:"#666"}},x:{grid:{display:!1},ticks:{color:"#666"}}}};function v({customers:s=[]}){const d=n.useMemo(()=>{const i={Bangkok:"กรุงเทพฯ","Chiang Mai":"ภาคเหนือ","Chiang Rai":"ภาคเหนือ",Nan:"ภาคเหนือ","Khon Kaen":"ภาคอีสาน","Nakhon Ratchasima":"ภาคอีสาน","Udon Thani":"ภาคอีสาน",Phuket:"ภาคใต้",Songkhla:"ภาคใต้",Krabi:"ภาคใต้","Chon Buri":"ภาคตะวันออก",Rayong:"ภาคตะวันออก",Kanchanaburi:"ภาคตะวันตก",Ratchaburi:"ภาคตะวันตก",Ayutthaya:"ภาคกลาง",Saraburi:"ภาคกลาง",Nonthaburi:"ภาคกลาง"},o={กรุงเทพฯ:0,ภาคเหนือ:0,ภาคกลาง:0,ภาคอีสาน:0,ภาคตะวันออก:0,ภาคตะวันตก:0,ภาคใต้:0};s.forEach(a=>{const t=i[a.province]||"Unknown";o[t]!==void 0&&o[t]++});const r=Object.entries(o).filter(([a,t])=>t>=0).sort((a,t)=>t[1]-a[1]);return{labels:r.map(a=>a[0]),datasets:[{label:"Customers",data:r.map(a=>a[1]),backgroundColor:r.map(a=>a[0]==="กรุงเทพฯ"?"#D4AF37":"#333"),borderColor:"#D4AF37",borderWidth:1}]}},[s]),c=n.useMemo(()=>{let i=0,o=0,r=0;return s.forEach(a=>{a.totalSpent>1e5?r++:a.totalSpent>3e4?o++:i++}),{labels:["Starter (<30k)","Pro (30k-100k)","Whale (>100k)"],datasets:[{data:[i,o,r],backgroundColor:["#888","#D4AF37","#FFF"],borderColor:"#000",borderWidth:2}]}},[s]);return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-[#0A0A0A] border border-white/10 p-6 rounded-xl h-[300px]",children:[e.jsx("h3",{className:"text-white/50 text-xs font-bold uppercase tracking-widest mb-4",children:"Top Locations"}),e.jsx(k,{options:l,data:d})]}),e.jsxs("div",{className:"bg-[#0A0A0A] border border-white/10 p-6 rounded-xl h-[300px]",children:[e.jsx("h3",{className:"text-white/50 text-xs font-bold uppercase tracking-widest mb-4",children:"Customer Tiers"}),e.jsx("div",{className:"h-[220px] flex justify-center",children:e.jsx(C,{data:c,options:{...l,scales:{},maintainAspectRatio:!1}})})]})]})}export{v as default};
